var Tn=Object.defineProperty,En=Object.defineProperties;var Pn=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var kn=Object.prototype.hasOwnProperty,Ln=Object.prototype.propertyIsEnumerable;var he=(T,_,f)=>_ in T?Tn(T,_,{enumerable:!0,configurable:!0,writable:!0,value:f}):T[_]=f,k=(T,_)=>{for(var f in _||(_={}))kn.call(_,f)&&he(T,f,_[f]);if(qe)for(var f of qe(_))Ln.call(_,f)&&he(T,f,_[f]);return T},Ze=(T,_)=>En(T,Pn(_));var c=(T,_,f)=>(he(T,typeof _!="symbol"?_+"":_,f),f);(function(T){typeof define=="function"&&define.amd?define(T):T()})(function(){var An,Rn,In;"use strict";const T=(t,e)=>{const n=Object.values(t).filter(i=>i===t[e]);return n.length>0?n[0]:null},_=t=>t;var f;(function(t){t.CREDIT_CARD="CreditCard",t.CASH_PLUS="CashPlus",t.WALLET="Wallet"})(f||(f={}));var $;(function(t){t[t.UNVALIDATED=0]="UNVALIDATED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.VALIDATED=2]="VALIDATED"})($||($={}));var G;(function(t){t.CANCELLED="cancelled",t.SUCCESS="success",t.ERROR="error"})(G||(G={}));const Ke=(t,e)=>{const n=e.split(".");if(n.length===0)return null;let i=t[n[0]];for(let r=1;r<n.length;r++){const a=n[r];if(typeof i[a]=="undefined")return null;i=i[a]}return i},pe=(t,e)=>{let n;return Object.keys(t).some(i=>Je(e)&&i===e||Xe(e)&&e.includes(i)?(n=t[i],!0):t[i]&&typeof t[i]=="object"?(n=pe(t[i],e),typeof n!="undefined"):!1),n},Xe=t=>Array.isArray(t),Je=t=>Object.prototype.toString.call(t)==="[object String]";class me{constructor(){c(this,"_items");this._items=[]}get items(){return this._items}add(e){this._items.push(e)}}var Z;(function(t){t.local="local",t.remote="remote"})(Z||(Z={}));const Qe=t=>["local","remote"].some(e=>e===t);class fe{constructor(e,n,i,r=!1){c(this,"_locale");c(this,"_name");c(this,"_keys");c(this,"_isDefault");this._locale=e,this._name=n,this._keys=i,this._isDefault=r}get locale(){return this._locale}get name(){return this._name}get keys(){return this._keys}get isDefault(){return this._isDefault}set isDefault(e){this._isDefault=e}}class et{async load(e){try{let n;switch(e){case"ar":n=await Promise.resolve().then(function(){return wn});break;case"fr":n=await Promise.resolve().then(function(){return _n});break;case"en":default:n=await Promise.resolve().then(function(){return bn});break}return new fe(e,e,n)}catch{return null}}}const p={APP_URL:"https://youcanpay.com",TRANSLATION_BRIDGE:"remote",TRANSLATIONS_BASE_URL:"https://youcanpay.com/languages",ASSETS_URL:"https://youcanpay.com/ycpay-js",LOGS_URL:"https://log.youcanpay.com",INTEGRATION_SCRIPT_URL:"https://youcanpay.com/js/ycpay.js"};var K;(function(t){t.GET="GET",t.POST="POST"})(K||(K={}));class te{constructor(e,n){c(this,"DEFAULT_XHR_OPTIONS",{body:"",headers:{Accept:"application/json","Content-Type":"application/json"}});c(this,"baseURL");c(this,"instanceOptions");this.baseURL=e,this.instanceOptions=n}async get(e,n){return await this.request(K.GET,e,n)}async post(e,n){return await this.request(K.POST,e,n)}async request(e,n,i){const r=await this.makeXHR(e,this.fullUrl(n),i);return await this.parse(r)}fullUrl(e){return`${this.baseURL}/${e}`.replace(/([^:]\/)\/+/g,"$1")}parse(e){try{return Promise.resolve(JSON.parse(e))}catch{return Promise.resolve(e)}}makeXHR(e,n,i){var s;const r=Ze(k(k(k({},this.DEFAULT_XHR_OPTIONS),this.instanceOptions),i),{headers:k(k({},this.DEFAULT_XHR_OPTIONS.headers),(s=this.instanceOptions)==null?void 0:s.headers)}),a=new XMLHttpRequest;a.open(e,n);for(const o in r.headers)a.setRequestHeader(o,r.headers[o]);return a.send(JSON.stringify(r.body)),new Promise((o,l)=>{a.onload=function(){this.status>=200&&this.status<300?o(this.response):l({status:this.status,statusText:this.statusText,body:JSON.parse(this.response)})},a.onerror=function(){l({status:this.status,statusText:this.statusText,body:this.response?JSON.parse(this.response):""})}})}}class tt{constructor(){c(this,"httpService");this.httpService=new te(p.TRANSLATIONS_BASE_URL)}async load(e){if(["en","ar","fr"].includes(e)===!1)throw new Error("locale not supported");let n;try{const i=await this.httpService.get(`translation-${e}.json`);return n=new fe(e,e,i),n}catch{return null}}}class ne{constructor(){c(this,"_bridge");this._bridge=this.initBridge()}get bridge(){return this._bridge}async loadTranslation(e){try{switch(this.bridge){case Z.local:return await this.loadLocaleTranslations(e);default:return await this.loadRemoteTranslations(e)}}catch{return null}}async loadLocaleTranslations(e){return await new et().load(e)}async loadRemoteTranslations(e){return await new tt().load(e)}initBridge(){const e=p.TRANSLATION_BRIDGE;return Qe(e)===!1?ne.getDefaultBridge():e}static getDefaultBridge(){return Z.remote}}class nt{parse(e,n){return e.replace(/{{([^{}]*)}}/g,(i,r)=>{const a=n[r];return typeof a=="string"?a:i})}}var Y;(function(t){t.INFO="info",t.ERROR="error"})(Y||(Y={}));var H;(function(t){t.EVENT="event",t.COLLECT="collect"})(H||(H={}));const ge="",it=t=>t.trim().split(" ").filter(e=>e!==""&&e!==`
`).join(" "),{printError:M,purgeError:ye,setErrorContainer:rt,extractError:we,parseToErrorObject:X}=new class{constructor(){c(this,"DEFAULT_STYLE",`
      padding: 11px 9px;
      background: #fecaca;
      width: 100%;
      border-radius: 4px;
      text-align: center;
      color: #b80000;
      font-weight: 400;
    `);c(this,"selector","#ycp-error-container");c(this,"container",null);c(this,"printError",t=>{if(this.setErrorContainer(),this.container===null)return;const e=this.extractError(t);this.container.innerHTML=`
      <div style="${this.DEFAULT_STYLE}">
        <p>${e}</p>
      </div>
    `});c(this,"setErrorContainer",t=>{if(this.container===null){typeof t!="undefined"&&(this.selector=t);const e=document.querySelector(this.selector);e!==null&&(this.container=e)}});c(this,"purgeError",()=>{this.container!==null&&(this.container.innerHTML="")})}extractError(t){return typeof t=="string"?t:pe(t,["message","errorMessage"])||"an unexpected error occurred"}parseToErrorObject(t){return{error_message:t.message,error_trace:it(t.stack||"")}}};class ie{constructor(){c(this,"httpService");this.httpService=new te(p.LOGS_URL)}info(e){this.logger(Y.INFO,H.EVENT,e)}error(e,n){const i=X(e);n.error_message=i.error_message,n.error_trace=i.error_trace,this.logger(Y.ERROR,H.EVENT,n)}collect(e){this.logger(Y.INFO,H.COLLECT,e)}async logger(e,n,i){typeof i.value=="object"?i.value=JSON.stringify(i.value):i.value=i.value.toString(),this.httpService.post("",{body:k({log_type:n,log_level:e,public_key:YCPay.publicKey,is_sandbox:YCPay.isSandbox,href:location.href},i)}).catch()}}var L;(function(t){t.FATAL_ERROR="fatal-error",t.SCRIPT_LOAD_TIME="script-load-time",t.INITIATE_INTEGRATION="initiate-integration",t.ACCOUNT_NOT_FOUND="account-not-found",t.CASHPLUS_COPY_TOKEN="cashplus-copy-token",t.CASHPLUS_NAVIGATE_CAROUSEL="cashplus-navigate-carousel",t.UNSUPPORTED_LOCALE="unsupported-locale",t.TRANSLATION_KEY_NOT_FOUND="translation-key-not-found"})(L||(L={}));const q=class{constructor(e=null){c(this,"BROWSER_LOCALE",navigator.language.substring(0,2));c(this,"_locale");c(this,"_translations");c(this,"translationLoader");c(this,"mustacheParser");c(this,"loggerService");this.translationLoader=new ne,this.mustacheParser=new nt,this.loggerService=new ie,this._locale=this.initLocale(e)}get locale(){return this._locale}set locale(e){this._locale=this.initLocale(e)}translate(e,n={},i=""){return this.__t(e,n,i,this.locale)}__t(e,n,i,r){let a=this.getTranslationByLocale(r);if(r!==this._locale&&(a=this.getTranslationByLocale(r)),typeof a=="undefined")return this.loggerService.collect({key:L.TRANSLATION_KEY_NOT_FOUND,value:e}),this.getTranslationFallback(e,i);const s=q.getDefaultLocale(),o=a.keys,l=Ke(o,e);return typeof l!="string"?r===s?e:this.__t(e,n,i,s):this.mustacheParser.parse(l,n)}initLocale(e=null){const n=this.getAvailableLocales();return e!==null&&n.includes(e.toLowerCase())===!0?e:n.includes(this.BROWSER_LOCALE.toLowerCase())===!0?this.BROWSER_LOCALE:q.getDefaultLocale()}async initTranslations(){if(this._translations instanceof me)return;const e=new me;for(const n of this.getAvailableLocales()){const i=await this.translationLoader.loadTranslation(n);i!==null&&(i.isDefault=i.locale===this.locale,e.add(i))}this._translations=e}getAvailableLocales(){return["en","ar","fr"]}static getDefaultLocale(){return"en"}getTranslationByLocale(e){var n;return(n=this._translations)==null?void 0:n.items.find(i=>i.locale===e)}getTranslationFallback(e,n){return n!==""?n:e}static getInstance(e=null){return typeof this._instance=="undefined"&&(this._instance=new q(e)),this._instance}};let R=q;c(R,"_instance");class ve extends te{constructor(e=!1){super(`${p.APP_URL}${e?"/sandbox":""}/api`,{headers:{"x-preferred-locale":R.getInstance().locale}});c(this,"isSandbox");this.isSandbox=e}}const{getAccountConfig:at}=new class{constructor(){c(this,"ACCOUNT_CONFIG_ENDPOINT","get-account-configs");c(this,"config",null);c(this,"getAccountConfig",async(t,e)=>{const n=new ve(e);return new Promise((i,r)=>{this.config!=null&&i(this.config),n.get(`${this.ACCOUNT_CONFIG_ENDPOINT}/${t}`).then(a=>{this.config=a,i(a)}).catch(a=>r(a))})})}};var B=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},V=function(t,e,n,i,r,a,s,o,l,d){var h=this;h.numeralDecimalMark=t||".",h.numeralIntegerScale=e>0?e:0,h.numeralDecimalScale=n>=0?n:2,h.numeralThousandsGroupStyle=i||V.groupStyle.thousand,h.numeralPositiveOnly=!!r,h.stripLeadingZeroes=a!==!1,h.prefix=s||s===""?s:"",h.signBeforePrefix=!!o,h.tailPrefix=!!l,h.delimiter=d||d===""?d:",",h.delimiterRE=d?new RegExp("\\"+d,"g"):""};V.groupStyle={thousand:"thousand",lakh:"lakh",wan:"wan",none:"none"},V.prototype={getRawValue:function(t){return t.replace(this.delimiterRE,"").replace(this.numeralDecimalMark,".")},format:function(t){var e=this,n,i,r,a,s="";switch(t=t.replace(/[A-Za-z]/g,"").replace(e.numeralDecimalMark,"M").replace(/[^\dM-]/g,"").replace(/^\-/,"N").replace(/\-/g,"").replace("N",e.numeralPositiveOnly?"":"-").replace("M",e.numeralDecimalMark),e.stripLeadingZeroes&&(t=t.replace(/^(-)?0+(?=\d)/,"$1")),i=t.slice(0,1)==="-"?"-":"",typeof e.prefix!="undefined"?e.signBeforePrefix?r=i+e.prefix:r=e.prefix+i:r=i,a=t,t.indexOf(e.numeralDecimalMark)>=0&&(n=t.split(e.numeralDecimalMark),a=n[0],s=e.numeralDecimalMark+n[1].slice(0,e.numeralDecimalScale)),i==="-"&&(a=a.slice(1)),e.numeralIntegerScale>0&&(a=a.slice(0,e.numeralIntegerScale)),e.numeralThousandsGroupStyle){case V.groupStyle.lakh:a=a.replace(/(\d)(?=(\d\d)+\d$)/g,"$1"+e.delimiter);break;case V.groupStyle.wan:a=a.replace(/(\d)(?=(\d{4})+$)/g,"$1"+e.delimiter);break;case V.groupStyle.thousand:a=a.replace(/(\d)(?=(\d{3})+$)/g,"$1"+e.delimiter);break}return e.tailPrefix?i+a.toString()+(e.numeralDecimalScale>0?s.toString():"")+e.prefix:r+a.toString()+(e.numeralDecimalScale>0?s.toString():"")}};var st=V,_e=function(t,e,n){var i=this;i.date=[],i.blocks=[],i.datePattern=t,i.dateMin=e.split("-").reverse().map(function(r){return parseInt(r,10)}),i.dateMin.length===2&&i.dateMin.unshift(0),i.dateMax=n.split("-").reverse().map(function(r){return parseInt(r,10)}),i.dateMax.length===2&&i.dateMax.unshift(0),i.initBlocks()};_e.prototype={initBlocks:function(){var t=this;t.datePattern.forEach(function(e){e==="Y"?t.blocks.push(4):t.blocks.push(2)})},getISOFormatDate:function(){var t=this,e=t.date;return e[2]?e[2]+"-"+t.addLeadingZero(e[1])+"-"+t.addLeadingZero(e[0]):""},getBlocks:function(){return this.blocks},getValidatedDate:function(t){var e=this,n="";return t=t.replace(/[^\d]/g,""),e.blocks.forEach(function(i,r){if(t.length>0){var a=t.slice(0,i),s=a.slice(0,1),o=t.slice(i);switch(e.datePattern[r]){case"d":a==="00"?a="01":parseInt(s,10)>3?a="0"+s:parseInt(a,10)>31&&(a="31");break;case"m":a==="00"?a="01":parseInt(s,10)>1?a="0"+s:parseInt(a,10)>12&&(a="12");break}n+=a,t=o}}),this.getFixedDateString(n)},getFixedDateString:function(t){var e=this,n=e.datePattern,i=[],r=0,a=0,s=0,o=0,l=0,d=0,h,u,g,b=!1;t.length===4&&n[0].toLowerCase()!=="y"&&n[1].toLowerCase()!=="y"&&(o=n[0]==="d"?0:2,l=2-o,h=parseInt(t.slice(o,o+2),10),u=parseInt(t.slice(l,l+2),10),i=this.getFixedDate(h,u,0)),t.length===8&&(n.forEach(function(C,P){switch(C){case"d":r=P;break;case"m":a=P;break;default:s=P;break}}),d=s*2,o=r<=s?r*2:r*2+2,l=a<=s?a*2:a*2+2,h=parseInt(t.slice(o,o+2),10),u=parseInt(t.slice(l,l+2),10),g=parseInt(t.slice(d,d+4),10),b=t.slice(d,d+4).length===4,i=this.getFixedDate(h,u,g)),t.length===4&&(n[0]==="y"||n[1]==="y")&&(l=n[0]==="m"?0:2,d=2-l,u=parseInt(t.slice(l,l+2),10),g=parseInt(t.slice(d,d+2),10),b=t.slice(d,d+2).length===2,i=[0,u,g]),t.length===6&&(n[0]==="Y"||n[1]==="Y")&&(l=n[0]==="m"?0:4,d=2-.5*l,u=parseInt(t.slice(l,l+2),10),g=parseInt(t.slice(d,d+4),10),b=t.slice(d,d+4).length===4,i=[0,u,g]),i=e.getRangeFixedDate(i),e.date=i;var S=i.length===0?t:n.reduce(function(C,P){switch(P){case"d":return C+(i[0]===0?"":e.addLeadingZero(i[0]));case"m":return C+(i[1]===0?"":e.addLeadingZero(i[1]));case"y":return C+(b?e.addLeadingZeroForYear(i[2],!1):"");case"Y":return C+(b?e.addLeadingZeroForYear(i[2],!0):"")}},"");return S},getRangeFixedDate:function(t){var e=this,n=e.datePattern,i=e.dateMin||[],r=e.dateMax||[];return!t.length||i.length<3&&r.length<3||n.find(function(a){return a.toLowerCase()==="y"})&&t[2]===0?t:r.length&&(r[2]<t[2]||r[2]===t[2]&&(r[1]<t[1]||r[1]===t[1]&&r[0]<t[0]))?r:i.length&&(i[2]>t[2]||i[2]===t[2]&&(i[1]>t[1]||i[1]===t[1]&&i[0]>t[0]))?i:t},getFixedDate:function(t,e,n){return t=Math.min(t,31),e=Math.min(e,12),n=parseInt(n||0,10),(e<7&&e%2==0||e>8&&e%2==1)&&(t=Math.min(t,e===2?this.isLeapYear(n)?29:28:30)),[t,e,n]},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},addLeadingZero:function(t){return(t<10?"0":"")+t},addLeadingZeroForYear:function(t,e){return e?(t<10?"000":t<100?"00":t<1e3?"0":"")+t:(t<10?"0":"")+t}};var ot=_e,xe=function(t,e){var n=this;n.time=[],n.blocks=[],n.timePattern=t,n.timeFormat=e,n.initBlocks()};xe.prototype={initBlocks:function(){var t=this;t.timePattern.forEach(function(){t.blocks.push(2)})},getISOFormatTime:function(){var t=this,e=t.time;return e[2]?t.addLeadingZero(e[0])+":"+t.addLeadingZero(e[1])+":"+t.addLeadingZero(e[2]):""},getBlocks:function(){return this.blocks},getTimeFormatOptions:function(){var t=this;return String(t.timeFormat)==="12"?{maxHourFirstDigit:1,maxHours:12,maxMinutesFirstDigit:5,maxMinutes:60}:{maxHourFirstDigit:2,maxHours:23,maxMinutesFirstDigit:5,maxMinutes:60}},getValidatedTime:function(t){var e=this,n="";t=t.replace(/[^\d]/g,"");var i=e.getTimeFormatOptions();return e.blocks.forEach(function(r,a){if(t.length>0){var s=t.slice(0,r),o=s.slice(0,1),l=t.slice(r);switch(e.timePattern[a]){case"h":parseInt(o,10)>i.maxHourFirstDigit?s="0"+o:parseInt(s,10)>i.maxHours&&(s=i.maxHours+"");break;case"m":case"s":parseInt(o,10)>i.maxMinutesFirstDigit?s="0"+o:parseInt(s,10)>i.maxMinutes&&(s=i.maxMinutes+"");break}n+=s,t=l}}),this.getFixedTimeString(n)},getFixedTimeString:function(t){var e=this,n=e.timePattern,i=[],r=0,a=0,s=0,o=0,l=0,d=0,h,u,g;return t.length===6&&(n.forEach(function(b,S){switch(b){case"s":r=S*2;break;case"m":a=S*2;break;case"h":s=S*2;break}}),d=s,l=a,o=r,h=parseInt(t.slice(o,o+2),10),u=parseInt(t.slice(l,l+2),10),g=parseInt(t.slice(d,d+2),10),i=this.getFixedTime(g,u,h)),t.length===4&&e.timePattern.indexOf("s")<0&&(n.forEach(function(b,S){switch(b){case"m":a=S*2;break;case"h":s=S*2;break}}),d=s,l=a,h=0,u=parseInt(t.slice(l,l+2),10),g=parseInt(t.slice(d,d+2),10),i=this.getFixedTime(g,u,h)),e.time=i,i.length===0?t:n.reduce(function(b,S){switch(S){case"s":return b+e.addLeadingZero(i[2]);case"m":return b+e.addLeadingZero(i[1]);case"h":return b+e.addLeadingZero(i[0])}},"")},getFixedTime:function(t,e,n){return n=Math.min(parseInt(n||0,10),60),e=Math.min(e,60),t=Math.min(t,60),[t,e,n]},addLeadingZero:function(t){return(t<10?"0":"")+t}};var lt=xe,be=function(t,e){var n=this;n.delimiter=e||e===""?e:" ",n.delimiterRE=e?new RegExp("\\"+e,"g"):"",n.formatter=t};be.prototype={setFormatter:function(t){this.formatter=t},format:function(t){var e=this;e.formatter.clear(),t=t.replace(/[^\d+]/g,""),t=t.replace(/^\+/,"B").replace(/\+/g,"").replace("B","+"),t=t.replace(e.delimiterRE,"");for(var n="",i,r=!1,a=0,s=t.length;a<s;a++)i=e.formatter.inputDigit(t.charAt(a)),/[\s()-]/g.test(i)?(n=i,r=!0):r||(n=i);return n=n.replace(/[()]/g,""),n=n.replace(/[\s-]/g,e.delimiter),n}};var ct=be,re={blocks:{uatp:[4,5,6],amex:[4,6,5],diners:[4,6,4],discover:[4,4,4,4],mastercard:[4,4,4,4],dankort:[4,4,4,4],instapayment:[4,4,4,4],jcb15:[4,6,5],jcb:[4,4,4,4],maestro:[4,4,4,4],visa:[4,4,4,4],mir:[4,4,4,4],unionPay:[4,4,4,4],general:[4,4,4,4]},re:{uatp:/^(?!1800)1\d{0,14}/,amex:/^3[47]\d{0,13}/,discover:/^(?:6011|65\d{0,2}|64[4-9]\d?)\d{0,12}/,diners:/^3(?:0([0-5]|9)|[689]\d?)\d{0,11}/,mastercard:/^(5[1-5]\d{0,2}|22[2-9]\d{0,1}|2[3-7]\d{0,2})\d{0,12}/,dankort:/^(5019|4175|4571)\d{0,12}/,instapayment:/^63[7-9]\d{0,13}/,jcb15:/^(?:2131|1800)\d{0,11}/,jcb:/^(?:35\d{0,2})\d{0,12}/,maestro:/^(?:5[0678]\d{0,2}|6304|67\d{0,2})\d{0,12}/,mir:/^220[0-4]\d{0,12}/,visa:/^4\d{0,15}/,unionPay:/^(62|81)\d{0,14}/},getStrictBlocks:function(t){var e=t.reduce(function(n,i){return n+i},0);return t.concat(19-e)},getInfo:function(t,e){var n=re.blocks,i=re.re;e=!!e;for(var r in i)if(i[r].test(t)){var a=n[r];return{type:r,blocks:e?this.getStrictBlocks(a):a}}return{type:"unknown",blocks:e?this.getStrictBlocks(n.general):n.general}}},dt=re,ut={noop:function(){},strip:function(t,e){return t.replace(e,"")},getPostDelimiter:function(t,e,n){if(n.length===0)return t.slice(-e.length)===e?e:"";var i="";return n.forEach(function(r){t.slice(-r.length)===r&&(i=r)}),i},getDelimiterREByDelimiter:function(t){return new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"g")},getNextCursorPosition:function(t,e,n,i,r){return e.length===t?n.length:t+this.getPositionOffset(t,e,n,i,r)},getPositionOffset:function(t,e,n,i,r){var a,s,o;return a=this.stripDelimiters(e.slice(0,t),i,r),s=this.stripDelimiters(n.slice(0,t),i,r),o=a.length-s.length,o!==0?o/Math.abs(o):0},stripDelimiters:function(t,e,n){var i=this;if(n.length===0){var r=e?i.getDelimiterREByDelimiter(e):"";return t.replace(r,"")}return n.forEach(function(a){a.split("").forEach(function(s){t=t.replace(i.getDelimiterREByDelimiter(s),"")})}),t},headStr:function(t,e){return t.slice(0,e)},getMaxLength:function(t){return t.reduce(function(e,n){return e+n},0)},getPrefixStrippedValue:function(t,e,n,i,r,a,s,o,l){if(n===0)return t;if(t===e&&t!=="")return"";if(l&&t.slice(0,1)=="-"){var d=i.slice(0,1)=="-"?i.slice(1):i;return"-"+this.getPrefixStrippedValue(t.slice(1),e,n,d,r,a,s,o,l)}if(i.slice(0,n)!==e&&!o)return s&&!i&&t?t:"";if(i.slice(-n)!==e&&o)return s&&!i&&t?t:"";var h=this.stripDelimiters(i,r,a);return t.slice(0,n)!==e&&!o?h.slice(n):t.slice(-n)!==e&&o?h.slice(0,-n-1):o?t.slice(0,-n):t.slice(n)},getFirstDiffIndex:function(t,e){for(var n=0;t.charAt(n)===e.charAt(n);)if(t.charAt(n++)==="")return-1;return n},getFormattedValue:function(t,e,n,i,r,a){var s="",o=r.length>0,l="";return n===0?t:(e.forEach(function(d,h){if(t.length>0){var u=t.slice(0,d),g=t.slice(d);o?l=r[a?h-1:h]||l:l=i,a?(h>0&&(s+=l),s+=u):(s+=u,u.length===d&&h<n-1&&(s+=l)),t=g}}),s)},fixPrefixCursor:function(t,e,n,i){if(!!t){var r=t.value,a=n||i[0]||" ";if(!(!t.setSelectionRange||!e||e.length+a.length<=r.length)){var s=r.length*2;setTimeout(function(){t.setSelectionRange(s,s)},1)}}},checkFullSelection:function(t){try{var e=window.getSelection()||document.getSelection()||{};return e.toString().length===t.length}catch{}return!1},setSelection:function(t,e,n){if(t===this.getActiveElement(n)&&!(t&&t.value.length<=e))if(t.createTextRange){var i=t.createTextRange();i.move("character",e),i.select()}else try{t.setSelectionRange(e,e)}catch{console.warn("The input element type does not support selection")}},getActiveElement:function(t){var e=t.activeElement;return e&&e.shadowRoot?this.getActiveElement(e.shadowRoot):e},isAndroid:function(){return navigator&&/android/i.test(navigator.userAgent)},isAndroidBackspaceKeydown:function(t,e){return!this.isAndroid()||!t||!e?!1:e===t.slice(0,-1)}},ht=ut,pt={assign:function(t,e){return t=t||{},e=e||{},t.creditCard=!!e.creditCard,t.creditCardStrictMode=!!e.creditCardStrictMode,t.creditCardType="",t.onCreditCardTypeChanged=e.onCreditCardTypeChanged||function(){},t.phone=!!e.phone,t.phoneRegionCode=e.phoneRegionCode||"AU",t.phoneFormatter={},t.time=!!e.time,t.timePattern=e.timePattern||["h","m","s"],t.timeFormat=e.timeFormat||"24",t.timeFormatter={},t.date=!!e.date,t.datePattern=e.datePattern||["d","m","Y"],t.dateMin=e.dateMin||"",t.dateMax=e.dateMax||"",t.dateFormatter={},t.numeral=!!e.numeral,t.numeralIntegerScale=e.numeralIntegerScale>0?e.numeralIntegerScale:0,t.numeralDecimalScale=e.numeralDecimalScale>=0?e.numeralDecimalScale:2,t.numeralDecimalMark=e.numeralDecimalMark||".",t.numeralThousandsGroupStyle=e.numeralThousandsGroupStyle||"thousand",t.numeralPositiveOnly=!!e.numeralPositiveOnly,t.stripLeadingZeroes=e.stripLeadingZeroes!==!1,t.signBeforePrefix=!!e.signBeforePrefix,t.tailPrefix=!!e.tailPrefix,t.swapHiddenInput=!!e.swapHiddenInput,t.numericOnly=t.creditCard||t.date||!!e.numericOnly,t.uppercase=!!e.uppercase,t.lowercase=!!e.lowercase,t.prefix=t.creditCard||t.date?"":e.prefix||"",t.noImmediatePrefix=!!e.noImmediatePrefix,t.prefixLength=t.prefix.length,t.rawValueTrimPrefix=!!e.rawValueTrimPrefix,t.copyDelimiter=!!e.copyDelimiter,t.initValue=e.initValue!==void 0&&e.initValue!==null?e.initValue.toString():"",t.delimiter=e.delimiter||e.delimiter===""?e.delimiter:e.date?"/":e.time?":":e.numeral?",":(e.phone," "),t.delimiterLength=t.delimiter.length,t.delimiterLazyShow=!!e.delimiterLazyShow,t.delimiters=e.delimiters||[],t.blocks=e.blocks||[],t.blocksLength=t.blocks.length,t.root=typeof B=="object"&&B?B:window,t.document=e.document||t.root.document,t.maxLength=0,t.backspace=!1,t.result="",t.onValueChanged=e.onValueChanged||function(){},t}},mt=pt,m=function(t,e){var n=this,i=!1;if(typeof t=="string"?(n.element=document.querySelector(t),i=document.querySelectorAll(t).length>1):typeof t.length!="undefined"&&t.length>0?(n.element=t[0],i=t.length>1):n.element=t,!n.element)throw new Error("[cleave.js] Please check the element");if(i)try{console.warn("[cleave.js] Multiple input fields matched, cleave.js will only take the first one.")}catch{}e.initValue=n.element.value,n.properties=m.DefaultProperties.assign({},e),n.init()};m.prototype={init:function(){var t=this,e=t.properties;if(!e.numeral&&!e.phone&&!e.creditCard&&!e.time&&!e.date&&e.blocksLength===0&&!e.prefix){t.onInput(e.initValue);return}e.maxLength=m.Util.getMaxLength(e.blocks),t.isAndroid=m.Util.isAndroid(),t.lastInputValue="",t.isBackward="",t.onChangeListener=t.onChange.bind(t),t.onKeyDownListener=t.onKeyDown.bind(t),t.onFocusListener=t.onFocus.bind(t),t.onCutListener=t.onCut.bind(t),t.onCopyListener=t.onCopy.bind(t),t.initSwapHiddenInput(),t.element.addEventListener("input",t.onChangeListener),t.element.addEventListener("keydown",t.onKeyDownListener),t.element.addEventListener("focus",t.onFocusListener),t.element.addEventListener("cut",t.onCutListener),t.element.addEventListener("copy",t.onCopyListener),t.initPhoneFormatter(),t.initDateFormatter(),t.initTimeFormatter(),t.initNumeralFormatter(),(e.initValue||e.prefix&&!e.noImmediatePrefix)&&t.onInput(e.initValue)},initSwapHiddenInput:function(){var t=this,e=t.properties;if(!!e.swapHiddenInput){var n=t.element.cloneNode(!0);t.element.parentNode.insertBefore(n,t.element),t.elementSwapHidden=t.element,t.elementSwapHidden.type="hidden",t.element=n,t.element.id=""}},initNumeralFormatter:function(){var t=this,e=t.properties;!e.numeral||(e.numeralFormatter=new m.NumeralFormatter(e.numeralDecimalMark,e.numeralIntegerScale,e.numeralDecimalScale,e.numeralThousandsGroupStyle,e.numeralPositiveOnly,e.stripLeadingZeroes,e.prefix,e.signBeforePrefix,e.tailPrefix,e.delimiter))},initTimeFormatter:function(){var t=this,e=t.properties;!e.time||(e.timeFormatter=new m.TimeFormatter(e.timePattern,e.timeFormat),e.blocks=e.timeFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=m.Util.getMaxLength(e.blocks))},initDateFormatter:function(){var t=this,e=t.properties;!e.date||(e.dateFormatter=new m.DateFormatter(e.datePattern,e.dateMin,e.dateMax),e.blocks=e.dateFormatter.getBlocks(),e.blocksLength=e.blocks.length,e.maxLength=m.Util.getMaxLength(e.blocks))},initPhoneFormatter:function(){var t=this,e=t.properties;if(!!e.phone)try{e.phoneFormatter=new m.PhoneFormatter(new e.root.Cleave.AsYouTypeFormatter(e.phoneRegionCode),e.delimiter)}catch{throw new Error("[cleave.js] Please include phone-type-formatter.{country}.js lib")}},onKeyDown:function(t){var e=this,n=t.which||t.keyCode;e.lastInputValue=e.element.value,e.isBackward=n===8},onChange:function(t){var e=this,n=e.properties,i=m.Util;e.isBackward=e.isBackward||t.inputType==="deleteContentBackward";var r=i.getPostDelimiter(e.lastInputValue,n.delimiter,n.delimiters);e.isBackward&&r?n.postDelimiterBackspace=r:n.postDelimiterBackspace=!1,this.onInput(this.element.value)},onFocus:function(){var t=this,e=t.properties;t.lastInputValue=t.element.value,e.prefix&&e.noImmediatePrefix&&!t.element.value&&this.onInput(e.prefix),m.Util.fixPrefixCursor(t.element,e.prefix,e.delimiter,e.delimiters)},onCut:function(t){!m.Util.checkFullSelection(this.element.value)||(this.copyClipboardData(t),this.onInput(""))},onCopy:function(t){!m.Util.checkFullSelection(this.element.value)||this.copyClipboardData(t)},copyClipboardData:function(t){var e=this,n=e.properties,i=m.Util,r=e.element.value,a="";n.copyDelimiter?a=r:a=i.stripDelimiters(r,n.delimiter,n.delimiters);try{t.clipboardData?t.clipboardData.setData("Text",a):window.clipboardData.setData("Text",a),t.preventDefault()}catch{}},onInput:function(t){var e=this,n=e.properties,i=m.Util,r=i.getPostDelimiter(t,n.delimiter,n.delimiters);if(!n.numeral&&n.postDelimiterBackspace&&!r&&(t=i.headStr(t,t.length-n.postDelimiterBackspace.length)),n.phone){n.prefix&&(!n.noImmediatePrefix||t.length)?n.result=n.prefix+n.phoneFormatter.format(t).slice(n.prefix.length):n.result=n.phoneFormatter.format(t),e.updateValueState();return}if(n.numeral){n.prefix&&n.noImmediatePrefix&&t.length===0?n.result="":n.result=n.numeralFormatter.format(t),e.updateValueState();return}if(n.date&&(t=n.dateFormatter.getValidatedDate(t)),n.time&&(t=n.timeFormatter.getValidatedTime(t)),t=i.stripDelimiters(t,n.delimiter,n.delimiters),t=i.getPrefixStrippedValue(t,n.prefix,n.prefixLength,n.result,n.delimiter,n.delimiters,n.noImmediatePrefix,n.tailPrefix,n.signBeforePrefix),t=n.numericOnly?i.strip(t,/[^\d]/g):t,t=n.uppercase?t.toUpperCase():t,t=n.lowercase?t.toLowerCase():t,n.prefix&&(n.tailPrefix?t=t+n.prefix:t=n.prefix+t,n.blocksLength===0)){n.result=t,e.updateValueState();return}n.creditCard&&e.updateCreditCardPropsByValue(t),t=i.headStr(t,n.maxLength),n.result=i.getFormattedValue(t,n.blocks,n.blocksLength,n.delimiter,n.delimiters,n.delimiterLazyShow),e.updateValueState()},updateCreditCardPropsByValue:function(t){var e=this,n=e.properties,i=m.Util,r;i.headStr(n.result,4)!==i.headStr(t,4)&&(r=m.CreditCardDetector.getInfo(t,n.creditCardStrictMode),n.blocks=r.blocks,n.blocksLength=n.blocks.length,n.maxLength=i.getMaxLength(n.blocks),n.creditCardType!==r.type&&(n.creditCardType=r.type,n.onCreditCardTypeChanged.call(e,n.creditCardType)))},updateValueState:function(){var t=this,e=m.Util,n=t.properties;if(!!t.element){var i=t.element.selectionEnd,r=t.element.value,a=n.result;if(i=e.getNextCursorPosition(i,r,a,n.delimiter,n.delimiters),t.isAndroid){window.setTimeout(function(){t.element.value=a,e.setSelection(t.element,i,n.document,!1),t.callOnValueChanged()},1);return}t.element.value=a,n.swapHiddenInput&&(t.elementSwapHidden.value=t.getRawValue()),e.setSelection(t.element,i,n.document,!1),t.callOnValueChanged()}},callOnValueChanged:function(){var t=this,e=t.properties;e.onValueChanged.call(t,{target:{name:t.element.name,value:e.result,rawValue:t.getRawValue()}})},setPhoneRegionCode:function(t){var e=this,n=e.properties;n.phoneRegionCode=t,e.initPhoneFormatter(),e.onChange()},setRawValue:function(t){var e=this,n=e.properties;t=t!=null?t.toString():"",n.numeral&&(t=t.replace(".",n.numeralDecimalMark)),n.postDelimiterBackspace=!1,e.element.value=t,e.onInput(t)},getRawValue:function(){var t=this,e=t.properties,n=m.Util,i=t.element.value;return e.rawValueTrimPrefix&&(i=n.getPrefixStrippedValue(i,e.prefix,e.prefixLength,e.result,e.delimiter,e.delimiters,e.noImmediatePrefix,e.tailPrefix,e.signBeforePrefix)),e.numeral?i=e.numeralFormatter.getRawValue(i):i=n.stripDelimiters(i,e.delimiter,e.delimiters),i},getISOFormatDate:function(){var t=this,e=t.properties;return e.date?e.dateFormatter.getISOFormatDate():""},getISOFormatTime:function(){var t=this,e=t.properties;return e.time?e.timeFormatter.getISOFormatTime():""},getFormattedValue:function(){return this.element.value},destroy:function(){var t=this;t.element.removeEventListener("input",t.onChangeListener),t.element.removeEventListener("keydown",t.onKeyDownListener),t.element.removeEventListener("focus",t.onFocusListener),t.element.removeEventListener("cut",t.onCutListener),t.element.removeEventListener("copy",t.onCopyListener)},toString:function(){return"[Cleave Object]"}},m.NumeralFormatter=st,m.DateFormatter=ot,m.TimeFormatter=lt,m.PhoneFormatter=ct,m.CreditCardDetector=dt,m.Util=ht,m.DefaultProperties=mt,(typeof B=="object"&&B?B:window).Cleave=m;var ae=m;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const ft=new WeakMap,j=t=>typeof t=="function"&&ft.has(t);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Se=typeof window!="undefined"&&window.customElements!=null&&window.customElements.polyfillWrapFlushCallback!==void 0,Ce=(t,e,n=null)=>{for(;e!==n;){const i=e.nextSibling;t.removeChild(e),e=i}};/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const A={},I={};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const N=`{{lit-${String(Math.random()).slice(2)}}}`,Te=`<!--${N}-->`,Ee=new RegExp(`${N}|${Te}`),W="$lit$";class gt{constructor(e,n){this.parts=[],this.element=n;const i=[],r=[],a=document.createTreeWalker(n.content,133,null,!1);let s=0,o=-1,l=0;const{strings:d,values:{length:h}}=e;for(;l<h;){const u=a.nextNode();if(u===null){a.currentNode=r.pop();continue}if(o++,u.nodeType===1){if(u.hasAttributes()){const g=u.attributes,{length:b}=g;let S=0;for(let C=0;C<b;C++)Pe(g[C].name,W)&&S++;for(;S-- >0;){const C=d[l],P=se.exec(C)[2],z=P.toLowerCase()+W,U=u.getAttribute(z);u.removeAttribute(z);const O=U.split(Ee);this.parts.push({type:"attribute",index:o,name:P,strings:O}),l+=O.length-1}}u.tagName==="TEMPLATE"&&(r.push(u),a.currentNode=u.content)}else if(u.nodeType===3){const g=u.data;if(g.indexOf(N)>=0){const b=u.parentNode,S=g.split(Ee),C=S.length-1;for(let P=0;P<C;P++){let z,U=S[P];if(U==="")z=D();else{const O=se.exec(U);O!==null&&Pe(O[2],W)&&(U=U.slice(0,O.index)+O[1]+O[2].slice(0,-W.length)+O[3]),z=document.createTextNode(U)}b.insertBefore(z,u),this.parts.push({type:"node",index:++o})}S[C]===""?(b.insertBefore(D(),u),i.push(u)):u.data=S[C],l+=C}}else if(u.nodeType===8)if(u.data===N){const g=u.parentNode;(u.previousSibling===null||o===s)&&(o++,g.insertBefore(D(),u)),s=o,this.parts.push({type:"node",index:o}),u.nextSibling===null?u.data="":(i.push(u),o--),l++}else{let g=-1;for(;(g=u.data.indexOf(N,g+1))!==-1;)this.parts.push({type:"node",index:-1}),l++}}for(const u of i)u.parentNode.removeChild(u)}}const Pe=(t,e)=>{const n=t.length-e.length;return n>=0&&t.slice(n)===e},yt=t=>t.index!==-1,D=()=>document.createComment(""),se=/([ \x09\x0a\x0c\x0d])([^\0-\x1F\x7F-\x9F "'>=/]+)([ \x09\x0a\x0c\x0d]*=[ \x09\x0a\x0c\x0d]*(?:[^ \x09\x0a\x0c\x0d"'`<>=]*|"[^"]*|'[^']*))$/;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class ke{constructor(e,n,i){this.__parts=[],this.template=e,this.processor=n,this.options=i}update(e){let n=0;for(const i of this.__parts)i!==void 0&&i.setValue(e[n]),n++;for(const i of this.__parts)i!==void 0&&i.commit()}_clone(){const e=Se?this.template.element.content.cloneNode(!0):document.importNode(this.template.element.content,!0),n=[],i=this.template.parts,r=document.createTreeWalker(e,133,null,!1);let a=0,s=0,o,l=r.nextNode();for(;a<i.length;){if(o=i[a],!yt(o)){this.__parts.push(void 0),a++;continue}for(;s<o.index;)s++,l.nodeName==="TEMPLATE"&&(n.push(l),r.currentNode=l.content),(l=r.nextNode())===null&&(r.currentNode=n.pop(),l=r.nextNode());if(o.type==="node"){const d=this.processor.handleTextExpression(this.options);d.insertAfterNode(l.previousSibling),this.__parts.push(d)}else this.__parts.push(...this.processor.handleAttributeExpressions(l,o.name,o.strings,this.options));a++}return Se&&(document.adoptNode(e),customElements.upgrade(e)),e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const Le=window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t}),wt=` ${N} `;class Ae{constructor(e,n,i,r){this.strings=e,this.values=n,this.type=i,this.processor=r}getHTML(){const e=this.strings.length-1;let n="",i=!1;for(let r=0;r<e;r++){const a=this.strings[r],s=a.lastIndexOf("<!--");i=(s>-1||i)&&a.indexOf("-->",s+1)===-1;const o=se.exec(a);o===null?n+=a+(i?wt:Te):n+=a.substr(0,o.index)+o[1]+o[2]+W+o[3]+N}return n+=this.strings[e],n}getTemplateElement(){const e=document.createElement("template");let n=this.getHTML();return Le!==void 0&&(n=Le.createHTML(n)),e.innerHTML=n,e}}/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const oe=t=>t===null||!(typeof t=="object"||typeof t=="function"),le=t=>Array.isArray(t)||!!(t&&t[Symbol.iterator]);class Re{constructor(e,n,i){this.dirty=!0,this.element=e,this.name=n,this.strings=i,this.parts=[];for(let r=0;r<i.length-1;r++)this.parts[r]=this._createPart()}_createPart(){return new Ie(this)}_getValue(){const e=this.strings,n=e.length-1,i=this.parts;if(n===1&&e[0]===""&&e[1]===""){const a=i[0].value;if(typeof a=="symbol")return String(a);if(typeof a=="string"||!le(a))return a}let r="";for(let a=0;a<n;a++){r+=e[a];const s=i[a];if(s!==void 0){const o=s.value;if(oe(o)||!le(o))r+=typeof o=="string"?o:String(o);else for(const l of o)r+=typeof l=="string"?l:String(l)}}return r+=e[n],r}commit(){this.dirty&&(this.dirty=!1,this.element.setAttribute(this.name,this._getValue()))}}class Ie{constructor(e){this.value=void 0,this.committer=e}setValue(e){e!==A&&(!oe(e)||e!==this.value)&&(this.value=e,j(e)||(this.committer.dirty=!0))}commit(){for(;j(this.value);){const e=this.value;this.value=A,e(this)}this.value!==A&&this.committer.commit()}}class J{constructor(e){this.value=void 0,this.__pendingValue=void 0,this.options=e}appendInto(e){this.startNode=e.appendChild(D()),this.endNode=e.appendChild(D())}insertAfterNode(e){this.startNode=e,this.endNode=e.nextSibling}appendIntoPart(e){e.__insert(this.startNode=D()),e.__insert(this.endNode=D())}insertAfterPart(e){e.__insert(this.startNode=D()),this.endNode=e.endNode,e.endNode=this.startNode}setValue(e){this.__pendingValue=e}commit(){if(this.startNode.parentNode===null)return;for(;j(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=A,n(this)}const e=this.__pendingValue;e!==A&&(oe(e)?e!==this.value&&this.__commitText(e):e instanceof Ae?this.__commitTemplateResult(e):e instanceof Node?this.__commitNode(e):le(e)?this.__commitIterable(e):e===I?(this.value=I,this.clear()):this.__commitText(e))}__insert(e){this.endNode.parentNode.insertBefore(e,this.endNode)}__commitNode(e){this.value!==e&&(this.clear(),this.__insert(e),this.value=e)}__commitText(e){const n=this.startNode.nextSibling;e=e==null?"":e;const i=typeof e=="string"?e:String(e);n===this.endNode.previousSibling&&n.nodeType===3?n.data=i:this.__commitNode(document.createTextNode(i)),this.value=e}__commitTemplateResult(e){const n=this.options.templateFactory(e);if(this.value instanceof ke&&this.value.template===n)this.value.update(e.values);else{const i=new ke(n,e.processor,this.options),r=i._clone();i.update(e.values),this.__commitNode(r),this.value=i}}__commitIterable(e){Array.isArray(this.value)||(this.value=[],this.clear());const n=this.value;let i=0,r;for(const a of e)r=n[i],r===void 0&&(r=new J(this.options),n.push(r),i===0?r.appendIntoPart(this):r.insertAfterPart(n[i-1])),r.setValue(a),r.commit(),i++;i<n.length&&(n.length=i,this.clear(r&&r.endNode))}clear(e=this.startNode){Ce(this.startNode.parentNode,e.nextSibling,this.endNode)}}class vt{constructor(e,n,i){if(this.value=void 0,this.__pendingValue=void 0,i.length!==2||i[0]!==""||i[1]!=="")throw new Error("Boolean attributes can only contain a single expression");this.element=e,this.name=n,this.strings=i}setValue(e){this.__pendingValue=e}commit(){for(;j(this.__pendingValue);){const n=this.__pendingValue;this.__pendingValue=A,n(this)}if(this.__pendingValue===A)return;const e=!!this.__pendingValue;this.value!==e&&(e?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name),this.value=e),this.__pendingValue=A}}class _t extends Re{constructor(e,n,i){super(e,n,i);this.single=i.length===2&&i[0]===""&&i[1]===""}_createPart(){return new xt(this)}_getValue(){return this.single?this.parts[0].value:super._getValue()}commit(){this.dirty&&(this.dirty=!1,this.element[this.name]=this._getValue())}}class xt extends Ie{}let Oe=!1;(()=>{try{const t={get capture(){return Oe=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch{}})();class bt{constructor(e,n,i){this.value=void 0,this.__pendingValue=void 0,this.element=e,this.eventName=n,this.eventContext=i,this.__boundHandleEvent=r=>this.handleEvent(r)}setValue(e){this.__pendingValue=e}commit(){for(;j(this.__pendingValue);){const a=this.__pendingValue;this.__pendingValue=A,a(this)}if(this.__pendingValue===A)return;const e=this.__pendingValue,n=this.value,i=e==null||n!=null&&(e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive),r=e!=null&&(n==null||i);i&&this.element.removeEventListener(this.eventName,this.__boundHandleEvent,this.__options),r&&(this.__options=St(e),this.element.addEventListener(this.eventName,this.__boundHandleEvent,this.__options)),this.value=e,this.__pendingValue=A}handleEvent(e){typeof this.value=="function"?this.value.call(this.eventContext||this.element,e):this.value.handleEvent(e)}}const St=t=>t&&(Oe?{capture:t.capture,passive:t.passive,once:t.once}:t.capture);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */class Ct{handleAttributeExpressions(e,n,i,r){const a=n[0];return a==="."?new _t(e,n.slice(1),i).parts:a==="@"?[new bt(e,n.slice(1),r.eventContext)]:a==="?"?[new vt(e,n.slice(1),i)]:new Re(e,n,i).parts}handleTextExpression(e){return new J(e)}}const Tt=new Ct;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */function Et(t){let e=Ne.get(t.type);e===void 0&&(e={stringsArray:new WeakMap,keyString:new Map},Ne.set(t.type,e));let n=e.stringsArray.get(t.strings);if(n!==void 0)return n;const i=t.strings.join(N);return n=e.keyString.get(i),n===void 0&&(n=new gt(t,t.getTemplateElement()),e.keyString.set(i,n)),e.stringsArray.set(t.strings,n),n}const Ne=new Map;/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */const De=new WeakMap,Fe=(t,e,n)=>{let i=De.get(e);i===void 0&&(Ce(e,e.firstChild),De.set(e,i=new J(Object.assign({templateFactory:Et},n))),i.appendInto(e)),i.setValue(t),i.commit()};/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */typeof window!="undefined"&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.4.1");const x=(t,...e)=>new Ae(t,e,"html",Tt);class ce{constructor(e){c(this,"CLASS_YCP_ELEMENT","ycp-element");c(this,"translationService");c(this,"mounted",!1);c(this,"eventBus");c(this,"container");c(this,"shadowElement");c(this,"styleElement");c(this,"template");c(this,"containerSelector",null);this.eventBus=e,this.translationService=R.getInstance()}mount(e){this.containerSelector=e;const n=document.querySelector(e);if(n===null)throw M("Component container is invalid"),new Error(`unable to find element ${n}`);this.container=n,this.shadowElement=n.attachShadow({mode:"open"});const i=document.createElement("div");Fe(this.template(this),i),this.mounted=!0;const r=document.createElement("style");return this.styleElement=r,this.shadowElement.appendChild(i),this.shadowElement.appendChild(r),this.styleElement.textContent=this.getSelectedTheme()+YCPay.customCSS,ye(),this.onMounted(i,r)}getSelectedTheme(){return""}onMounted(...e){}onUnmounted(...e){}unmount(){if(this.mounted===!1)throw Error("element is not mounted");if(typeof this.container=="undefined")throw Error("could not find container, perhaps it is not mounted?");const e=this.container.parentElement;if(e===null)return;const n=document.createElement("div");e.insertBefore(n,this.container),n.outerHTML=this.container.outerHTML,e.removeChild(this.container),this.container=void 0,this.mounted=!1,this.onUnmounted()}isMounted(){return this.mounted}}class Q extends ce{constructor(e,n){super(n);c(this,"config",p);c(this,"apiService");c(this,"loggerService");c(this,"value","");c(this,"options",{isSandbox:!1,isWebView:!1});this.options=k(k({},this.options),e),this.apiService=new ve(e.isSandbox),this.loggerService=new ie}getValue(){return this.value}setValue(e){this.value=e}$(e){return this.shadowElement.querySelector(e)}}const Pt=t=>x`
    <div
      class="main-container"
      data-gateway="${t.id}"
      dir="${t.translationService.locale==="ar"?"rtl":"ltr"}"
    >
      <div class="form-header">
        ${t.options.isBackButtonVisible===!0?x`
              <button class="back_button" @click=${()=>t.setValue(t.redirectToForm())}>
                <img src="${p.ASSETS_URL}/icons/common/chevron-left.svg" alt="Back button" class="icon" />
                <p class="text">${t.translationService.translate("common.back")}</p>
              </button>
            `:I}
        <h5 class="header-title">${t.translationService.translate("gateway.credit-card.name")}</h5>
      </div>
      <form class="creditCard-form">
        <div class="creditCard-textField-container">
          <img
            draggable="false"
            src="${p.ASSETS_URL}/icons/creditcard/form/person.svg"
            class="icon"
            alt="Card holder name"
          />
          <input
            placeholder=${t.translationService.translate("gateway.credit-card.form.placeholder.card-holder-name")}
            type="text"
            .value=${t.getValue().card_holder_name}
            @change=${e=>t.updateValue("card_holder_name",e.target.value)}
            @input=${e=>t.updateValue("card_holder_name",e.target.value)}
            class="textField"
            data-card-input="card_holder_name"
          />
        </div>
        <div class="creditCard-textField-container">
          <img draggable="false" src="${p.ASSETS_URL}/icons/creditcard/form/card.svg" class="icon" alt="name" />
          <input
            placeholder=${t.translationService.translate("gateway.credit-card.form.placeholder.card-number")}
            type="tel"
            .value=${t.getValue().credit_card}
            @change=${e=>t.updateValue("credit_card ",e.target.value)}
            @input=${e=>t.updateValue("credit_card",e.target.value)}
            class="textField inputs__bin"
            data-card-input="credit_card"
          />
        </div>
        <div class="form-row">
          <label class="creditCard-textField-container">
            <img
              draggable="false"
              src="${p.ASSETS_URL}/icons/creditcard/form/calendar.svg"
              class="icon"
              alt="Expiration date"
            />
            <input
              placeholder=${t.translationService.translate("gateway.credit-card.form.placeholder.card-expiration")}
              type="tel"
              .value=${t.getValue().expire_date}
              @change=${e=>t.updateValue("expire_date",e.target.value)}
              @input=${e=>t.updateValue("expire_date",e.target.value)}
              class="textField inputs__date"
              data-card-input="expire_date"
            />
          </label>
          <label class="creditCard-textField-container">
            <img draggable="false" src="${p.ASSETS_URL}/icons/creditcard/form/cvc.svg" class="icon" alt="CVC" />
            <input
              type="tel"
              pattern="/^-?\\d+\\.?\\d*$/"
              placeholder=${t.translationService.translate("gateway.credit-card.form.placeholder.cvc")}
              .value=${t.getValue().cvv}
              @change=${e=>t.updateValue("cvv",e.target.value)}
              @input=${e=>t.updateValue("cvv",e.target.value)}
              class="textField inputs__cvc"
              data-card-input="cvv"
            />
          </label>
        </div>
        <div class="creditCard-footer">
          <img
            draggable="false"
            src="${p.APP_URL}/images/YCPay/supports-logo.png"
            class="security"
            alt="Security"
          />
          <div dir="ltr" class="brand">
            <span class="text">${t.translationService.translate("gateway.selector.by")}</span>
            <a href="${p.APP_URL}" target="_blank">
              <img src="${p.APP_URL}/images/ycpay-logo.svg" class="logo" alt="YouCan Pay logo" />
            </a>
          </div>
        </div>
        ${t.options.isSandbox?x`<span class="is-sandbox-active">Test Mode</span>`:I}
      </form>
    </div>
  `;var kt=`/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.creditcard-selector{align-items:center;background:#151415;background:linear-gradient(95.84deg,#25366d -37.46%,#3887c6 113.3%);color:#ededed;display:flex;justify-content:center}.creditcard-selector img{color:red;height:1.2rem}.creditcard-selector p{font-size:14px;font-style:normal;font-weight:600;line-height:21px}`;const Lt=()=>{const t=R.getInstance();return x`
    <style>
      ${kt}
    </style>
    <div class="creditcard-selector gateway-selector__button">
      <img src="${p.ASSETS_URL}/icons/creditcard/card.svg" alt="Card icon" />
      <p>${t.translate("gateway.credit-card.selector")}</p>
    </div>
  `};var At=`@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap");@import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap");body,html{font-family:Poppins,sans-serif}

/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */#credit_card_child_window{align-items:center;display:flex;height:100vh;justify-content:center;width:100vw}#credit_card_child_window .content{align-items:center;display:flex;flex-direction:column;justify-content:center;margin:0 auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}#credit_card_child_window .content .logo{margin-bottom:12px;width:110px}#credit_card_child_window .content .loading_box{align-items:center;background-color:#fff;border-radius:8px;box-sizing:border-box;display:flex;justify-content:center;margin-left:auto;margin-right:auto;padding:10px 34px;width:100%}#credit_card_child_window .content .loading_box .loader{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;height:24px;margin-right:10px;width:24px}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}#credit_card_child_window .content .loading_box .text{color:#25366d;font-size:12px;font-weight:500}#credit_card_child_window .content .banner{align-items:center;-webkit-animation:pulse 2s infinite;animation:pulse 2s infinite;background-color:#fff4f4;border-radius:8px;box-shadow:0 0 0 0 #000;box-sizing:border-box;display:flex;margin-top:12px;min-width:230px;padding:14px 24px;width:100%}#credit_card_child_window .content .banner .icon{fill:currentColor;color:#d82c0d;height:30px;margin-right:10px;width:30px}#credit_card_child_window .content .banner .text{color:#a4210a;font-size:24px;font-weight:500}@-webkit-keyframes pulse{0%{box-shadow:0 0 0 0 #a4210ab3}70%{box-shadow:0 0 0 6px transparent}to{box-shadow:0 0 0 0 transparent}}@keyframes pulse{0%{box-shadow:0 0 0 0 #a4210ab3}70%{box-shadow:0 0 0 6px transparent}to{box-shadow:0 0 0 0 transparent}}#credit_card_child_window[dir=rtl] .content .loading_box .loader{margin-left:10px;margin-right:0}#credit_card_child_window[dir=rtl] .content .banner .icon{margin-left:6px;margin-right:0}#credit_card_child_window[dir=rtl] *{font-family:Tajawal,sans-serif}#credit_card_child_window *{font-family:Poppins,sans-serif}`;const Rt=()=>{const t=R.getInstance();return`
    <!DOCTYPE html>
    <html lang="en">
      <head>
        <meta charset="UTF-8" />
        <meta
          name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <title>${t.translate("gateway.credit-card.3ds.processing")}...</title>
        <style>
          ${At}
        </style>
      </head>
      <body id="credit_card_child_window" dir="${t.locale==="ar"?"rtl":"ltr"}">
        <div class="content">
          <a href="${p.APP_URL}" target="_blank">
            <img src="${p.APP_URL}/images/ycpay-logo.svg" draggable="false" class="logo" alt="YouCan Pay logo" />
          </a>
          <div class="loading_box">
            <img
              src="${p.ASSETS_URL}/icons/common/loader.svg"
              alt="${t.translate("gateway.credit-card.3ds.processing")}"
              draggable="false"
              class="loader"
            />
            <span class="text">${t.translate("gateway.credit-card.3ds.processing")}...</span>
          </div>
          <div class="banner">
            <img
              src="${p.ASSETS_URL}/icons/common/x-circle.svg"
              alt="${t.translate("gateway.credit-card.3ds.do_not_refresh")}"
              draggable="false"
              class="icon"
            />
            <span class="text">${t.translate("gateway.credit-card.3ds.do_not_refresh")}</span>
          </div>
        </div>
      </body>
    </html>
  `},It=function(t,e){if(e===null){window.location.href=t;return}try{e.location.href=t}catch{window.location.href=t}},Ot=Promise.resolve().then(function(){return Cn});class Nt{constructor(e,n){c(this,"mount",e=>{const n=document.querySelector(e);if(!n)throw`could not find element ${e}`;this.containerSelector=e,this.shadow=n.attachShadow({mode:"open"});const i=document.createElement("div"),r=document.createElement("style");Fe(this.template(this.style,this.setValue),i),this.shadow.appendChild(r),this.applyTheme(r),this.shadow.appendChild(i)});c(this,"unmount",()=>{const e=document.querySelector(this.containerSelector),n=e.parentElement,i=document.createElement("div");n.insertBefore(i,e),i.outerHTML=e.outerHTML,n.removeChild(e)});this.modalOpened=e,this.eventTarget=n,this.template=()=>{if(this.modalOpened)return x`
          <div class="modal-container">
            <div class="overlay"></div>
            <div class="modal">
              <div class="modal-header">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  aria-hidden="true"
                  focusable="false"
                  data-prefix="fas"
                  data-icon="shield-alt"
                  class="svg-inline--fa fa-shield-alt fa-w-16"
                  role="img"
                  viewBox="0 0 512 512"
                >
                  <path
                    fill="currentColor"
                    d="M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"
                  />
                </svg>
              </div>
              <div class="modal-body">
                <h4 class="modal-heading">Purchase Authorization</h4>
                <p class="modal-paragraph">are you sure you want to continue ?</p>
              </div>
              <div class="modal-actions">
                <button class="button primary-button" @click=${()=>this.authorize()}>Authorize</button>
                <button class="button secondary-button" @click=${()=>this.decline()}>Decline</button>
              </div>
            </div>
          </div>
        `}}applyTheme(e){e.textContent=Ot}setModalOpenedState(e){this.modalOpened=e,this.unmount(),this.mount(this.containerSelector)}authorize(){this.eventTarget.dispatchEvent(new CustomEvent("action",{detail:"authorized"})),this.modalOpened=!1}decline(){this.eventTarget.dispatchEvent(new CustomEvent("action",{detail:"declined"})),this.modalOpened=!1}}var Dt=`@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap");@import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap");body,html{font-family:Poppins,sans-serif}

/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.main-container{background-color:#fff;border:1px solid #dcdfe1;border-radius:10px;box-shadow:0 1px 2px rgba(0,0,0,.05),0 1px 5px rgba(0,0,0,.05);box-sizing:border-box;direction:ltr;display:flex;flex-direction:column;margin:auto;max-width:22.875rem;padding:16px;width:100%}.main-container .form-header{align-items:center;display:flex;justify-content:space-between}.main-container .form-header .back_button{align-items:center;background:none;border:none;color:#111827;cursor:pointer;display:flex}.main-container .form-header .back_button .icon{fill:currentColor;height:20px;margin-right:6px;width:20px}.main-container .form-header .back_button .text{color:inherit;font-size:14px;font-weight:500;margin:0}.main-container .form-header .back_button:hover .text{text-decoration:underline}.main-container .form-header .header-title{color:#111827;font-size:14px;font-weight:500;margin:0}.main-container .creditCard-form{width:100%}.main-container .creditCard-form .creditCard-textField-container{align-items:center;border:1px solid #dcdfe1;border-radius:8px;box-shadow:0 1px 2px rgba(144,150,167,.1);display:flex;height:44px;position:relative;width:100%}.main-container .creditCard-form .creditCard-textField-container .icon{cursor:text;height:20px;left:16px;pointer-events:none;position:absolute;width:20px}.main-container .creditCard-form .creditCard-textField-container .textField{background:#fff;border:none;border-radius:8px;color:#414757;font-size:14px;font-weight:400;height:100%;outline-color:#458fff;outline-offset:2px;padding:0 16px 0 44px;width:100%}.main-container .creditCard-form .creditCard-textField-container .textField::-moz-placeholder{color:#707585}.main-container .creditCard-form .creditCard-textField-container .textField:-ms-input-placeholder{color:#707585}.main-container .creditCard-form .creditCard-textField-container .textField::placeholder{color:#707585}.main-container .creditCard-form .creditCard-textField-container.validation-error{border-color:#d82c0d!important}.main-container .creditCard-form .creditCard-textField-container.validation-error .label{color:#d82c0d;font-size:11px;font-weight:500;position:absolute;top:46px}.main-container .creditCard-form .form-row{display:flex}.main-container .creditCard-form .form-row>*~*{margin-left:24px}.main-container .creditCard-form .creditCard-footer{align-items:flex-start;display:flex;justify-content:space-between}.main-container .creditCard-form .creditCard-footer .security{height:38px}.main-container .creditCard-form .creditCard-footer .brand{align-items:flex-start;display:flex}.main-container .creditCard-form .creditCard-footer .brand .text{color:#414757;font-size:10.5px;font-style:italic;font-weight:400;line-height:16px}.main-container .creditCard-form .creditCard-footer .brand .logo{height:1.6875rem;margin-left:.25rem;margin-right:.25rem}.main-container .creditCard-form>*~*{margin-top:24px}.main-container[dir=rtl]{direction:rtl}.main-container[dir=rtl] .form-header,.main-container[dir=rtl] .form-header .back_button{flex-direction:row-reverse}.main-container[dir=rtl] .creditCard-form .creditCard-textField-container .icon{left:0;right:16px}.main-container[dir=rtl] .creditCard-form .creditCard-textField-container .textField{direction:ltr;padding:0 44px 0 16px;text-align:right}.main-container[dir=rtl] .creditCard-form .form-row{display:flex}.main-container[dir=rtl] .creditCard-form .form-row>*~*{margin-left:0;margin-right:24px}.main-container[dir=rtl] .creditCard-form .creditCard-footer{direction:ltr}.main-container[dir=rtl] *{font-family:Tajawal,sans-serif}.main-container>*~*{margin-top:30px}.main-container *{box-sizing:border-box;font-family:Poppins,sans-serif}@media screen and (max-width:640px){.main-container[dir=rtl] .creditCard-form .form-row{flex-direction:column}.main-container[dir=rtl] .creditCard-form .form-row>*~*{margin:24px 0 0}.main-container .creditCard-form .form-row{flex-direction:column}.main-container .creditCard-form .form-row>*~*{margin:24px 0 0}.main-container .creditCard-form .creditCard-footer{flex-direction:column}.main-container .creditCard-form .creditCard-footer .brand{align-self:flex-end}}`;const Ft=()=>/Mobi/i.test(window.navigator.userAgent),{addCrossHostEventListener:$e}=new class{constructor(){c(this,"listenerMap",{});c(this,"addCrossHostEventListener",(t,e)=>{if(Object.prototype.hasOwnProperty.call(this.listenerMap,t))throw Error(`listener already attached for window ${t}`);window.addEventListener("message",n=>{e(n)}),this.listenerMap[t]=e})}};var y;(function(t){t.RENDER_COMPONENT="render-component",t.PAY="pay",t.RETURN_FROM_3DS="return-from-3ds",t.REDIRECT_TO_3DS="redirect-to-3ds",t.REDIRECT_TO_GATEWAYS_SELECTOR="redirect-to-gateways-selector"})(y||(y={}));var w;(function(t){t.GATEWAYS_SELECTOR="gateways_selector",t.GATEWAY_FORM="gateway_form",t.CASHPLUS="cashplus",t.CREDIT_CARD="credit_card",t.WALLET="wallet"})(w||(w={}));var v;(function(t){t.START="start",t.FINISH="finish",t.ERROR="error"})(v||(v={}));class $t extends Q{constructor(e,n){super(e,n);c(this,"childWindowContent",Rt);c(this,"SANDBOX_CALLBACK_ENDPOINT","callback");c(this,"PAYMENT_ENDPOINT","pay");c(this,"template",Pt);c(this,"sandbox3DSModal");c(this,"eventTarget");c(this,"value",{card_holder_name:"",credit_card:"",expire_date:"",cvv:""});c(this,"name",this.translationService.translate("gateway.credit-card.name"));c(this,"image",`${this.config.APP_URL}/images/YCPay/icon-credit-card.svg`);c(this,"id",f.CREDIT_CARD);c(this,"selector",Lt);c(this,"updateValue",(e,n)=>{const i=this.getValue();i[e]=n,this.setValue(i)});c(this,"validation",{scope:this,errors:[{name:"card_holder_name",errorMessage:null,validate:e=>/\d/.test(e)===!0?this.translationService.translate("gateway.credit-card.form.validation.only_characters"):e.length>255?this.translationService.translate("gateway.credit-card.form.validation.max_255"):null},{name:"credit_card",errorMessage:null,validate:()=>null},{name:"expire_date",errorMessage:null,validate:e=>/^\d{2}\/\d{2}$/.test(e)===!1?this.translationService.translate("gateway.credit-card.form.validation.invalid_date"):null},{name:"cvv",errorMessage:null,validate:e=>/^\d{3,4}$/.test(e)===!1?this.translationService.translate("gateway.credit-card.form.validation.invalid_cvv"):null}],get:function(e){let n=null;return this.errors.forEach(i=>{i.name===e&&(n=i)}),n},isValid:function(){return typeof this.errors.find(e=>e.errorMessage!==null)=="undefined"},mutate:function(e,n){const i=this.get(e);i!==null&&(i.errorMessage=n)},displayErrors:function(){this.errors.forEach(e=>{var a;if(e.errorMessage===null)return;const n=this.get(e.name);if(n===null)return;const i=(a=this.scope.shadowElement)==null?void 0:a.querySelector(`[data-card-input="${n.name}"]`);if(i===null)return;i.parentElement.classList.add("validation-error");const r=document.createElement("span");r.setAttribute("class","label"),r.innerText=e.errorMessage,i.after(r)})},purgeErrors:function(){var e;this.errors.forEach(n=>{n.errorMessage=null}),(e=this.scope.shadowElement)==null||e.querySelectorAll("[data-card-input]").forEach(n=>{n.parentElement.classList.remove("validation-error");const i=n.parentElement.querySelector(".label");i!==null&&i.remove()})}})}pay(e,n){this.loggerService.info({event_name:y.PAY,event_category:w.CREDIT_CARD,key:v.START,value:{token:n}});let i,r=null;return this.options.isSandbox===!1&&(i="w_"+Date.now()+Math.floor(Math.random()*1e5).toString(),r=this.options.isWebView?null:window.open("",i),r!==null&&r.document.write(this.childWindowContent())),new Promise((a,s)=>{const o=this.getValue();$e(i,l=>{if(l.data.success===!0)return this.loggerService.info({event_name:y.RETURN_FROM_3DS,event_category:w.CREDIT_CARD,key:v.FINISH,value:l.data}),a(l.data);if(l.data.success===!1){const d=l.data.message||"there was an error processing this request";this.loggerService.error(new Error(d),{event_name:y.RETURN_FROM_3DS,event_category:w.CREDIT_CARD,key:v.ERROR,value:l.data}),s(d)}}),this.apiService.post(this.PAYMENT_ENDPOINT,{body:k({token_id:n,pub_key:e},o)}).then(l=>{if(l.success===!0)return r!==null&&r.close(),a(l);if(this.options.isSandbox===!0){this.sandbox3DSModal.setModalOpenedState(!0),this.eventTarget.addEventListener("action",d=>{this.apiService.post(this.SANDBOX_CALLBACK_ENDPOINT,{body:{transaction_id:l.transaction_id,is_valid_3ds_check:d.detail==="authorized"}}).then(h=>{if(h.success===!0)return a(h);s(h)}).catch(h=>{s(h)}).finally(()=>{this.sandbox3DSModal.setModalOpenedState(!1)})},!1);return}this.loggerService.info({event_name:y.REDIRECT_TO_3DS,event_category:w.CREDIT_CARD,key:v.START,value:l}),It(l.redirect_url,r)}).catch(l=>{this.options.isSandbox===!1?setTimeout(()=>{r!==null&&r.close(),s(l)},2e3):s(l)})})}render(e){return this.mount(e)}onMounted(e){this.options.isSandbox===!0&&this.prepareSandboxModal(),new ae(e.querySelector(".inputs__bin"),{creditCard:!0}),new ae(e.querySelector(".inputs__date"),{date:!0,datePattern:["m","y"]}),new ae(e.querySelector(".inputs__cvc"),{blocks:[4],numericOnly:!0})}onUnmounted(){var e;(e=this.sandbox3DSModal)==null||e.unmount()}getSelectedTheme(){return Dt}redirectToForm(){this.loggerService.info({event_name:y.REDIRECT_TO_GATEWAYS_SELECTOR,event_category:w.CREDIT_CARD,key:v.FINISH,value:"_empty_"}),this.eventBus.dispatchEvent(new CustomEvent("BackToGatewaySelector",{detail:{container:YCPay.formContainer}}))}prepareSandboxModal(){this.eventTarget=new EventTarget,this.sandbox3DSModal=new Nt(!1,this.eventTarget),window.sandbox3DSModal=this.sandbox3DSModal;const e=document.querySelector("body"),n=document.createElement("div");n.id="ycp-3ds-modal",e.appendChild(n),this.sandbox3DSModal.mount(`#${n.id}`)}validate(){this.validation.purgeErrors();const e=this.getValue();return Object.keys(e).forEach(n=>{var r;if(e[n]===""){this.validation.mutate(n,this.translationService.translate("gateway.credit-card.form.validation.no_empty"));return}const i=(r=this.validation.get(n))==null?void 0:r.validate(e[n]);typeof i!="undefined"&&i!==null&&this.validation.mutate(n,i)}),this.validation.isValid()===!1?(this.validation.displayErrors(),!1):!0}}const Mt=t=>{let e=[{image:"https://seller-area.youcan.shop/store-admin/images/settings/cashplus/step1.svg",contents:t.translationService.translate("gateway.cash-plus.form.guide.step-1.description"),label:t.translationService.translate("gateway.cash-plus.form.guide.step-1.label")},{image:"https://seller-area.youcan.shop/store-admin/images/settings/cashplus/step2.svg",contents:t.translationService.translate("gateway.cash-plus.form.guide.step-2.description"),label:t.translationService.translate("gateway.cash-plus.form.guide.step-2.label")},{image:"https://seller-area.youcan.shop/store-admin/images/settings/cashplus/step3.svg",contents:t.translationService.translate("gateway.cash-plus.form.guide.step-3.description"),label:t.translationService.translate("gateway.cash-plus.form.guide.step-3.label")},{image:"https://seller-area.youcan.shop/store-admin/images/settings/cashplus/step4.svg",contents:t.translationService.translate("gateway.cash-plus.form.guide.step-4.description"),label:t.translationService.translate("gateway.cash-plus.form.guide.step-4.label")}];return x`
    <div
      class="main-container"
      data-gateway="${t.id}"
      dir="${t.translationService.locale==="ar"?"rtl":"ltr"}"
    >
      <div class="form-header">
        ${t.options.isBackButtonVisible===!0?x`
              <button class="back_button" @click=${()=>t.setValue(t.redirectToForm())}>
                <img src="${p.ASSETS_URL}/icons/common/chevron-left.svg" alt="Back button" class="icon" />
                <p class="text">${t.translationService.translate("common.back")}</p>
              </button>
            `:I}
        <h5 class="header-title">${t.translationService.translate("gateway.cash-plus.name")}</h5>
      </div>
      <div class="cashPlus-illustrations">
        <div id="cashPlus-illustrations" class="illustrations">
          ${e.map(({contents:n,image:i})=>x`
              <article class="cashPlus-illustration">
                <img src="${i}" class="image" alt="CashPlus guide" />
                <p class="text">${n}</p>
              </article>
            `)}
        </div>
        <div id="cashPlus-illustrations-pagination" class="pagination">
          ${e.map(({label:n},i)=>x`
                <div class="indicator ${i===0?"active":I}">
                  ${i!==0?x` <div class="line"></div>`:I}
                  <div class="dot">
                    <span class="label-number">${i+1}</span>
                    <span class="label-text">${n}</span>
                  </div>
                </div>
              `)}
        </div>
        <div class="navigation">
          <button @click="${()=>t.navigate(-1)}" id="previous-button" class="navigation-button previous-button">
            <img src="${p.ASSETS_URL}/icons/common/chevron-left.svg" alt="Previous step" class="icon" />
          </button>
          <button @click="${()=>t.navigate(1)}" id="next-button" class="navigation-button next-button">
            <img src="${p.ASSETS_URL}/icons/common/chevron-left.svg" alt="Next step" class="icon" />
          </button>
        </div>
      </div>
      <div id="loading_tag" class="cashPlus_loading_box hidden">
        <img src="${p.ASSETS_URL}/icons/common/loader.svg" alt="Generating code" class="loader" />
        <span class="text">${t.translationService.translate("gateway.cash-plus.form.generating-code")}</span>
      </div>
      <div id="token-container" class="cashPlus_token_container hidden">
        <label class="label">${t.translationService.translate("gateway.cash-plus.form.your-code")}</label>
        <div class="cashPlus_input_container">
          <input type="text" id="token_id" readonly value="${t.token}" class="textField" />
          <button @click=${()=>t.copyTokenId()} id="continue_button" class="button">
            ${t.translationService.translate("common.copy")}
          </button>
        </div>
        <div id="cashplus-success-message" class="success-message hidden">
          <img src="${p.ASSETS_URL}/icons/cashplus/badge-check.svg" alt="Token copied successfully" class="icon" />
          <span class="text">${t.translationService.translate("gateway.cash-plus.form.copy-success")}</span>
        </div>
      </div>
    </div>
  `};var Vt=`/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.cashplus-selector{align-items:center;background-size:contain;display:flex;justify-content:center;position:relative}.cashplus-selector img{height:1.0625rem}.cashplus-selector p{color:#fff;font-size:14px;font-style:normal;font-weight:600;line-height:21px}.cashplus-selector p span{color:#ffc700}`;const Ut=()=>{const t=R.getInstance();return x`
    <style>
      ${Vt}
    </style>
    <div
      class="cashplus-selector gateway-selector__button"
      style="
          background-image:
            url('${p.ASSETS_URL}/images/cashplus/selector-bg.png'),
            linear-gradient(272.37deg, #066570 -10.89%, #23adb9 176.23%);
          "
    >
      <img src="${p.ASSETS_URL}/icons/cashplus/cashplus.svg" alt="CashPlus logo" />
      <p>
        ${t.translate("gateway.cash-plus.selector.cash")}
        <span>${t.translate("gateway.cash-plus.selector.plus")}</span>
      </p>
    </div>
  `};var Bt=`@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap");@import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap");body,html{font-family:Poppins,sans-serif}

/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.main-container{background-color:#fff;border:1px solid #dcdfe1;border-radius:10px;box-shadow:0 1px 2px rgba(0,0,0,.05),0 1px 5px rgba(0,0,0,.05);box-sizing:border-box;direction:ltr;display:flex;flex-direction:column;margin:auto;max-width:22.875rem;padding:16px;width:100%}.main-container .form-header{align-items:center;display:flex;justify-content:space-between}.main-container .form-header .back_button{align-items:center;background:none;border:none;color:#111827;cursor:pointer;display:flex}.main-container .form-header .back_button .icon{fill:currentColor;height:20px;margin-right:6px;width:20px}.main-container .form-header .back_button .text{color:inherit;font-size:14px;font-weight:500;margin:0}.main-container .form-header .back_button:hover .text{text-decoration:underline}.main-container .form-header .header-title{color:#111827;font-size:14px;font-weight:500;margin:0}.main-container .cashPlus-illustrations{display:flex;flex-direction:column;justify-content:center;position:relative;width:100%}.main-container .cashPlus-illustrations .illustrations{-ms-overflow-style:none;align-items:flex-start;display:flex;flex:1;overflow-x:scroll;padding:4px 0;-ms-scroll-snap-type:x mandatory;scroll-snap-type:x mandatory;scrollbar-width:none}.main-container .cashPlus-illustrations .illustrations .cashPlus-illustration{align-items:center;display:flex;flex-direction:column;flex-shrink:0;padding:0 16px;scroll-snap-align:center;width:100%}.main-container .cashPlus-illustrations .illustrations .cashPlus-illustration .image{height:215px;margin-bottom:14px}.main-container .cashPlus-illustrations .illustrations .cashPlus-illustration .text{color:#111827;font-size:14px;font-weight:400;margin:0;text-align:center}.main-container .cashPlus-illustrations .illustrations::-webkit-scrollbar{height:0;width:0}.main-container .cashPlus-illustrations .pagination{align-items:center;display:flex;margin:18px auto 0;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.main-container .cashPlus-illustrations .pagination .indicator{align-items:center;display:flex}.main-container .cashPlus-illustrations .pagination .indicator .dot{align-items:center;background:#ecf4ff none;border:1px solid #98c1ff;border-radius:9999px;color:#25366d;cursor:pointer;display:flex;font-size:10px;font-weight:600;height:22px;justify-content:center;padding:0 9px;width:22px}.main-container .cashPlus-illustrations .pagination .indicator .dot .label-text{display:none}.main-container .cashPlus-illustrations .pagination .indicator .line{background-color:#98c1ff;height:1px;width:20px}.main-container .cashPlus-illustrations .pagination .indicator.active .dot{background-color:#004fc7;border-color:#004fc7;color:#fff;width:unset}.main-container .cashPlus-illustrations .pagination .indicator.active .dot .label-text{display:inline-block}.main-container .cashPlus-illustrations .pagination .indicator.active .dot .label-number{display:none}.main-container .cashPlus-illustrations .navigation{display:flex;justify-content:space-between;left:0;position:absolute;top:107.5px;width:100%}.main-container .cashPlus-illustrations .navigation .navigation-button{background:rgba(17,24,39,.1);border:none;border-radius:9999px;cursor:pointer;display:flex;height:-webkit-min-content;height:-moz-min-content;height:min-content;outline-color:#458fff;outline-offset:2px;padding:4px;transition:background .15s ease-in-out}.main-container .cashPlus-illustrations .navigation .navigation-button .icon{height:24px;width:24px}.main-container .cashPlus-illustrations .navigation .navigation-button:hover{background:rgba(17,24,39,.15)}.main-container .cashPlus-illustrations .navigation .navigation-button.next-button .icon{transform:rotateY(180deg)}.main-container .cashPlus_loading_box{align-items:center;border:1px solid #e5e7eb;border-radius:8px;display:flex;margin-left:auto;margin-right:auto;padding:10px 14px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.main-container .cashPlus_loading_box .loader{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;height:24px;margin-right:10px;width:24px}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.main-container .cashPlus_loading_box .text{color:#25366d;font-size:12px;font-weight:500}.main-container .cashPlus_token_container{display:flex;flex-direction:column;width:100%}.main-container .cashPlus_token_container .label{color:#111827;font-size:14px;font-weight:500;margin-bottom:8px}.main-container .cashPlus_token_container .cashPlus_input_container{align-items:center;display:flex;width:100%}.main-container .cashPlus_token_container .cashPlus_input_container .textField{background:#fff;border:1px solid #dcdfe1;border-radius:8px;box-shadow:0 1px 2px rgba(144,150,167,.1);color:#414757;flex:1;font-size:14px;font-weight:400;height:44px;outline-color:#458fff;outline-offset:2px;padding:12px 16px;width:100%}.main-container .cashPlus_token_container .cashPlus_input_container .button{align-items:center;background:#004fc7;border:none;border-radius:8px;color:#fff;cursor:pointer;display:flex;font-size:14px;font-weight:500;height:44px;justify-content:center;outline-color:#458fff;outline-offset:2px;padding:12px 18px;text-transform:uppercase;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.main-container .cashPlus_token_container .cashPlus_input_container .button.copied{cursor:default;text-transform:capitalize}.main-container .cashPlus_token_container .cashPlus_input_container .button:not(.copied){-webkit-animation:pulse 2s infinite;animation:pulse 2s infinite;box-shadow:0 0 0 0 #000}@-webkit-keyframes pulse{0%{box-shadow:0 0 0 0 #004fc7b3}70%{box-shadow:0 0 0 6px transparent}to{box-shadow:0 0 0 0 transparent}}@keyframes pulse{0%{box-shadow:0 0 0 0 #004fc7b3}70%{box-shadow:0 0 0 6px transparent}to{box-shadow:0 0 0 0 transparent}}.main-container .cashPlus_token_container .cashPlus_input_container>*~*{margin-left:8px}.main-container .cashPlus_token_container .success-message{align-items:center;background-color:#e9fbf2;border-radius:8px;display:flex;margin-top:12px;padding:8px;width:100%}.main-container .cashPlus_token_container .success-message .icon{fill:currentColor;color:#469b76;height:18px;margin-right:6px;width:18px}.main-container .cashPlus_token_container .success-message .text{color:#275944;font-size:12px;font-weight:500}.main-container .hidden{display:none!important}.main-container[dir=rtl]{direction:rtl}.main-container[dir=rtl] .form-header,.main-container[dir=rtl] .form-header .back_button{flex-direction:row-reverse}.main-container[dir=rtl] .cashPlus-illustrations .pagination .indicator .dot .label-number,.main-container[dir=rtl] .cashPlus-illustrations .pagination .indicator .dot .label-text{margin-top:3px}.main-container[dir=rtl] .cashPlus-illustrations .navigation .navigation-button.next-button .icon{transform:rotateY(0deg)}.main-container[dir=rtl] .cashPlus-illustrations .navigation .navigation-button.previous-button .icon{transform:rotateY(180deg)}.main-container[dir=rtl] .cashPlus_token_container .cashPlus_input_container>*~*{margin-left:0;margin-right:8px}.main-container[dir=rtl] .cashPlus_token_container .success-message .icon{margin-left:6px;margin-right:0}.main-container[dir=rtl] .cashPlus_loading_box .loader{margin-left:10px;margin-right:0}.main-container[dir=rtl] *{font-family:Tajawal,sans-serif}.main-container>*~*{margin-top:30px}.main-container *{box-sizing:border-box;font-family:Poppins,sans-serif}@media screen and (max-width:640px){.main-container .cashPlus_token_container .cashPlus_input_container{flex-direction:column}.main-container .cashPlus_token_container .cashPlus_input_container .button,.main-container .cashPlus_token_container .cashPlus_input_container .textField{width:100%}.main-container .cashPlus_token_container .cashPlus_input_container>*~*{margin-left:0;margin-right:0;margin-top:8px}}`;class zt extends Q{constructor(e,n){super(e,n);c(this,"CASHPLUS_INIT_ENDPOINT","cashplus/init");c(this,"CASHPLUS_PAYMENT_TIMEOUT",10);c(this,"scrollBehaviour",{behavior:"smooth",block:"nearest",inline:"center"});c(this,"id",f.CASH_PLUS);c(this,"name",this.translationService.translate("gateway.cash-plus.name"));c(this,"image",`${this.config.APP_URL}/images/YCPay/ic-cashplus.svg`);c(this,"selector",Ut);c(this,"template",Mt);c(this,"token",null);this.setValue({state:$.UNVALIDATED,intervalId:0,timeoutId:0})}render(e){return this.mount(e)}pay(e,n){return this.loggerService.info({event_name:y.PAY,event_category:w.CASHPLUS,key:v.START,value:{token:n}}),this.eventBus.dispatchEvent(new CustomEvent("toggleCashPlusFormLoading")),new Promise((i,r)=>{this.toggleBackButton(!1),this.apiService.post(this.CASHPLUS_INIT_ENDPOINT,{body:{token_id:n,pub_key:e}}).then(a=>{this.eventBus.dispatchEvent(new CustomEvent("tokenGenerated",{detail:{token:a.token}})),this.eventBus.addEventListener("FinishCashPlusPayment",()=>typeof a.transaction_id!==void 0?(this.loggerService.info({event_name:y.PAY,event_category:w.CASHPLUS,key:v.FINISH,value:k({},a)}),i(a)):r("transaction_id not found"))}).catch(a=>{this.loggerService.error(a,{event_name:y.PAY,event_category:w.CASHPLUS,key:v.ERROR,value:{token:n}}),r(a)}).finally(()=>{this.eventBus.dispatchEvent(new CustomEvent("toggleCashPlusFormLoading"))})})}finishCashPlusPayment(){this.eventBus.dispatchEvent(new CustomEvent("FinishCashPlusPayment"))}redirectToForm(){this.loggerService.info({event_name:y.REDIRECT_TO_GATEWAYS_SELECTOR,event_category:w.CASHPLUS,key:v.FINISH,value:"_empty_"}),this.eventBus.dispatchEvent(new CustomEvent("BackToGatewaySelector",{detail:{container:YCPay.formContainer}}))}onMounted(...e){this.eventBus.addEventListener("tokenGenerated",n=>{var r,a;const i=_(n).detail;this.token=i.token,this.shadowElement.querySelector("#token_id").value=this.token,(r=this.shadowElement.querySelector("#loading_tag"))==null||r.classList.toggle("hidden"),(a=this.shadowElement.querySelector("#token-container"))==null||a.classList.toggle("hidden"),this.setContinueButtonState(this.token!==null&&this.token!=="")}),this.eventBus.addEventListener("toggleCashPlusFormLoading",()=>{this.shadowElement.querySelector("#loading_tag").classList.toggle("hidden")}),this.initCarousel()}onUnmounted(...e){const n=this.getValue();clearTimeout(n.timeoutId)}getSelectedTheme(){return Bt}setContinueButtonState(e=!1){const n=this.shadowElement.querySelector("#continue_button");n.disabled=!e,n.hidden=!e,this.shadowElement.querySelector("#loading_tag").style.display="none"}async copyTokenId(){const e=this.shadowElement.querySelector("#continue_button"),n=this.getValue();if(n.state===$.VALIDATED)return;if(n.state===$.IN_PROGRESS){clearTimeout(n.timeoutId),await this.validateToken(e);return}let i=this.CASHPLUS_PAYMENT_TIMEOUT;n.intervalId=setInterval(()=>{e.innerHTML=`
        ${this.translationService.translate("common.continue")}... ${(i-1).toString()}
      `,i--},1e3),n.state=$.IN_PROGRESS,n.timeoutId=setTimeout(async()=>await this.validateToken(e),this.CASHPLUS_PAYMENT_TIMEOUT*1e3),this.setValue(n)}async validateToken(e){const n=this.getValue();clearInterval(n.intervalId),e.innerHTML=this.translationService.translate("common.copied"),e.classList.add("copied"),this.finishCashPlusPayment(),n.state=$.VALIDATED,this.shadowElement.querySelector("#cashplus-success-message").classList.remove("hidden"),this.setValue(n);try{Ft()===!0?await navigator.share({text:this.token}):await navigator.clipboard.writeText(this.token)}catch{await navigator.clipboard.writeText(this.token)}this.loggerService.collect({key:L.CASHPLUS_COPY_TOKEN,value:this.token})}initCarousel(){const e=this.shadowElement.querySelector("#cashPlus-illustrations"),n=this.shadowElement.querySelectorAll("#cashPlus-illustrations-pagination .indicator");if(e!==null){e.addEventListener("scroll",()=>{const i=e.children[0].offsetWidth,r=Math.round(Math.abs(e.scrollLeft)/i);for(let a=0;a<n.length;a++)n[a].classList.remove("active"),a===r&&n[a].classList.add("active")});for(let i=0;i<n.length;i++)n[i].addEventListener("click",()=>{e.children[i].scrollIntoView(this.scrollBehaviour)})}}navigate(e){const n=this.shadowElement.querySelectorAll("#cashPlus-illustrations-pagination .indicator");let i=0;for(let r=1;r<n.length;r++)if(n[r].classList.contains("active")===!0){i=r;break}i=i+e,i<0?i=n.length-1:i>n.length-1&&(i=0),this.loggerService.collect({key:L.CASHPLUS_NAVIGATE_CAROUSEL,value:i+1}),this.shadowElement.querySelectorAll("#cashPlus-illustrations .cashPlus-illustration")[i].scrollIntoView(this.scrollBehaviour)}toggleBackButton(e=void 0){this.$(".back_button").style.visibility=e?"visible":"hidden"}validate(){return!0}}var Gt=`@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap");@import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap");body,html{font-family:Poppins,sans-serif}

/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.main-container{background-color:#fff;border:1px solid #dcdfe1;border-radius:10px;box-shadow:0 1px 2px rgba(0,0,0,.05),0 1px 5px rgba(0,0,0,.05);box-sizing:border-box;direction:ltr;display:flex;flex-direction:column;margin:auto;max-width:22.875rem;padding:16px;width:100%}.main-container .form-header{align-items:center;display:flex;justify-content:space-between}.main-container .form-header .back_button{align-items:center;background:none;border:none;color:#111827;cursor:pointer;display:flex}.main-container .form-header .back_button .icon{fill:currentColor;height:20px;margin-right:6px;width:20px}.main-container .form-header .back_button .text{color:inherit;font-size:14px;font-weight:500;margin:0}.main-container .form-header .back_button:hover .text{text-decoration:underline}.main-container .form-header .header-title{color:#111827;font-size:14px;font-weight:500;margin:0}.main-container .success-message{align-items:center;background-color:#e9fbf2;border-radius:8px;display:flex;margin-top:12px;padding:8px;width:100%}.main-container .success-message .icon{fill:currentColor;color:#469b76;height:18px;margin-right:6px;width:18px}.main-container .success-message .text{color:#275944;font-size:12px;font-weight:500}.main-container .youcanpay-wallet_loading_box{align-items:center;border:1px solid #e5e7eb;border-radius:8px;display:flex;margin-left:auto;margin-right:auto;padding:10px 14px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.main-container .youcanpay-wallet_loading_box .loader{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;height:24px;margin-right:10px;width:24px}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.main-container .youcanpay-wallet_loading_box .text{color:#25366d;font-size:12px;font-weight:500}.main-container #wallet-prompt-message{align-items:center;border-radius:8px;display:flex;margin-top:12px;padding:8px;width:100%}.main-container #wallet-prompt-message .text{color:#1f2937;font-size:14px;font-weight:500;text-align:center;width:100%}.main-container .hidden{display:none!important}.main-container[dir=rtl]{direction:rtl}.main-container[dir=rtl] .form-header,.main-container[dir=rtl] .form-header .back_button{flex-direction:row-reverse}.main-container[dir=rtl] .youcanpay-wallet_loading_box .loader{margin-left:10px;margin-right:0}.main-container[dir=rtl] *{font-family:Tajawal,sans-serif}.main-container>*~*{margin-top:30px}.main-container *{box-sizing:border-box;font-family:Poppins,sans-serif}`,Yt=`/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.youcanpay-wallet-selector{align-items:center;background-color:#4b83fc;display:flex;justify-content:center;position:relative}.youcanpay-wallet-selector p{color:#fff;font-size:14px;font-style:normal;font-weight:600;line-height:21px}`;const Ht=()=>{const t=R.getInstance();return x`
    <style>
      ${Yt}
    </style>
    <div class="youcanpay-wallet-selector gateway-selector__button">
      <p>${t.translate("gateway.wallet.selector")}</p>
    </div>
  `},jt=t=>x`
    <div class="main-container" data-gateway="${t.id}" dir="${t.translationService.locale==="ar"?"rtl":"ltr"}">
      <div class="form-header">
        ${t.options.isBackButtonVisible===!0?x`
                <button class="back_button" @click=${()=>t.setValue(t.redirectToForm())}>
                  <img src="${p.ASSETS_URL}/icons/common/chevron-left.svg" alt="Back button" class="icon" />
                  <p class="text">${t.translationService.translate("common.back")}</p>
                </button>
              `:I}
        <h5 class="header-title">${t.translationService.translate("gateway.wallet.name")}</h5>
      </div>
      <div id="wallet-prompt-message">
      <p class="text">${t.translationService.translate("gateway.wallet.form.click-on-pay")}
      </p></div>
      <div id="loading_tag" class="youcanpay-wallet_loading_box hidden">
        <img src="${p.ASSETS_URL}/icons/common/loader.svg" alt="Payment in progress" class="loader" />
        <span class="text">${t.translationService.translate("gateway.wallet.form.progress")}</span>
      </div>
      <div id="wallet-success-message" class="success-message hidden">
        <img src="${p.ASSETS_URL}/icons/cashplus/badge-check.svg" alt="Payment processed successfully" class="icon" />
        <span class="text">${t.translationService.translate("gateway.wallet.form.success")}</span>
      </div>
      <div id="wallet-error-message" class="error-message hidden">
        <img src="${p.ASSETS_URL}/icons/cashplus/badge-check.svg" alt="Payment processed successfully" class="icon" />
        <span class="text">${t.translationService.translate("gateway.wallet.form.error")}</span>
      </div>
    </div>
    </div>
  `;var F;(function(t){t.ON_OPEN="_onOpen",t.ON_CLOSED="_onClosed",t.ON_INTERRUPT="_onInterrupt"})(F||(F={}));const ee=t=>t;class Wt{constructor(e=ge,n={}){c(this,"DEFAULT_FEATURE_MAP",{width:null,height:null,left:null,top:null,menubar:!1,toolbar:!1,location:!0,status:!0,resizable:!0,scrollbars:!0});c(this,"_destination");c(this,"_name");c(this,"_window",null);c(this,"_timer");c(this,"_features",this.DEFAULT_FEATURE_MAP);c(this,An,null);c(this,Rn,null);c(this,In,null);this._destination=e||ge,this._name="_blank",this._timer=null,this._window=null,this.initializeFeatures(n)}get window(){return this._window}spawn(){return this._window=window.open(this._destination,this._name,this.getFeatureString()),this._window&&this._window.closed===!1?(this._window.moveTo(this._features.left,this._features.top),this._window.focus,window.addEventListener("unload",()=>{this.destroy()}),typeof this._onOpen=="function"&&this._onOpen(this),this.awaitClosing()):typeof this._onInterrupt=="function"&&this._onInterrupt(this),this}destroy(){return this._window&&this._window.closed===!1&&this._window.close(),this}resetTimer(){window.clearInterval(this._timer),this._timer=null}awaitClosing(){typeof this._onClosed=="function"&&(this.resetTimer(),this._timer=window.setInterval(()=>{(!this._window||this._window.closed===!0)&&(this.resetTimer(),this._onClosed(this))},500))}setCallback(e,n){return this[e]=n,this}onOpened(e){return this.setCallback(F.ON_OPEN,e)}onClosed(e){return this.setCallback(F.ON_CLOSED,e)}onInterrupted(e){return this.setCallback(F.ON_INTERRUPT,e)}initializeFeatures(e){e.name?(this._name=e.name,delete e.name):this._name="w_"+Date.now()+Math.floor(Math.random()*1e5).toString();for(const n in e)n in this._features&&(typeof e[n]=="boolean"?this._features[n]=e[n]?1:0:this._features[n]=e[n]);return this._features.width===null&&(this._features.width=ee(window.screen.availWidth)/2),this._features.height===null&&(this._features.width=ee(window.screen.availHeight)/2),this._features.left===null&&(this._features.left=ee(window.screen.availWidth-this._features.width)/2),this._features.right===null&&(this._features.right=ee(window.screen.availWidth-this._features.height)/2),this}getFeatureString(){const e=[];for(const n in this._features)Object.prototype.hasOwnProperty.call(this._features,n)&&this._features[n]!==null&&e.push(`${n}=${this._features[n]}`);return e.join(",")}}An=F.ON_OPEN,Rn=F.ON_CLOSED,In=F.ON_INTERRUPT;class qt extends Q{constructor(e,n){super(e,n);c(this,"WALLET_PAYMENT_URL","wallet/pay");c(this,"template",jt);c(this,"id",f.WALLET);c(this,"name",this.translationService.translate("gateway.youcan-pay-wallet.name"));c(this,"image","");c(this,"selector",Ht);c(this,"token",null)}render(e){return this.mount(e)}pay(e,n){return this.loggerService.info({event_name:y.PAY,event_category:w.WALLET,key:v.START,value:{token:n}}),this.options.isSandbox===!0?Promise.reject():new Promise((i,r)=>{let a=!0;this.toggleLoading(!0),this.togglePrompt(!1),new Wt(`${this.config.APP_URL}/${this.WALLET_PAYMENT_URL}?lang=${this.translationService.locale}&token_id=${n}&pub_key=${e}`,{width:640,height:800}).onOpened(s=>{$e(s.window.name,({origin:o,data:l})=>{if(o===this.config.APP_URL)switch(this.toggleLoading(!1),a=!1,l.action){case G.SUCCESS:return s.destroy(),this.toggleSuccess(!0),this.loggerService.info({event_name:y.PAY,event_category:w.WALLET,key:v.FINISH,value:l}),i(l);case G.ERROR:return s.destroy(),this.togglePrompt(!0),this.loggerService.error(new Error(l.body),{event_name:y.PAY,event_category:w.WALLET,key:v.ERROR,value:l}),r(l);case G.CANCELLED:s.destroy(),this.resetForm()}})}).onClosed(()=>{a===!0&&this.resetForm()}).spawn()})}redirectToForm(){this.loggerService.info({event_name:y.REDIRECT_TO_GATEWAYS_SELECTOR,event_category:w.WALLET,key:v.FINISH,value:"_empty_"}),this.eventBus.dispatchEvent(new CustomEvent("BackToGatewaySelector",{detail:{container:YCPay.formContainer}}))}getSelectedTheme(){return Gt}toggleLoading(e=void 0){this.$("#loading_tag").classList.toggle("hidden",typeof e=="undefined"?e:!e)}toggleSuccess(e=void 0){this.$("#wallet-success-message").classList.toggle("hidden",typeof e=="undefined"?e:!e)}togglePrompt(e=void 0){this.$("#wallet-prompt-message").classList.toggle("hidden",typeof e=="undefined"?e:!e)}resetForm(){this.toggleLoading(!1),this.toggleSuccess(!1),this.togglePrompt(!0)}validate(){return!0}}const Zt=t=>{const e=R.getInstance(),n=[];for(let i=0;i<t.gateways.length;i++){const r=t.gateways[i];n.push(x`
      <div @click=${()=>t.selectGateway(r.id)}>${r.selector()}</div>
    `)}return x`
    <div class="gateway-selector" dir="${t.translationService.locale==="ar"?"rtl":"ltr"}">
      <div class="gateway-selector__gateways">${n}</div>
      <div dir="ltr" class="gateway-selector__footer">
        ${t.options.isSandbox?x` <label class="gateway-selector__footer__test">Test Mode</label> `:I}
        <div dir="ltr" class="gateway-selector__footer__brand">
          ${e.translate("gateway.selector.by")}
          <a href="${p.APP_URL}" target="_blank">
            <img src="${p.APP_URL}/images/ycpay-logo.svg" />
          </a>
        </div>
      </div>
    </div>
  `};var Kt=`@import url("https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap");@import url("https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700;800&display=swap");body,html{font-family:Poppins,sans-serif}

/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.gateway-selector{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;border:2px solid #e5e7eb;border-radius:8px;box-sizing:border-box;direction:ltr;margin:auto;max-width:20.75rem;padding:1.25rem;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.gateway-selector *{margin:0;padding:0}.gateway-selector__footer{color:#697386;display:grid;font-size:.75rem;grid-template-columns:1fr 1fr;margin-top:.75rem;width:100%}.gateway-selector__footer__brand{align-items:flex-start;color:#414757;display:flex;font-size:10.5px;font-style:italic;font-weight:400;grid-column:2;justify-self:end;line-height:16px}.gateway-selector__footer__brand img{height:1.6875rem;margin-left:.25rem;margin-right:.25rem}.gateway-selector__footer__test{align-items:center;background:#f8c53c;border-radius:4px;color:#161101;display:flex;flex-direction:row;font-size:10px;font-style:normal;font-weight:500;height:1.4rem;line-height:15px;padding:4px 6px;width:4rem}.gateway-selector__gateways>*~*{margin-top:.5rem}.gateway-selector__button{border:none;border-radius:6px;cursor:pointer;height:2.875rem}.gateway-selector__button>*~*{margin-left:.5rem;margin-right:.5rem}.gateway-selector[dir=rtl]{direction:rtl}.gateway-selector[dir=rtl] *{font-family:Tajawal,sans-serif}.gateway-selector *{box-sizing:border-box;font-family:Poppins,sans-serif}`;class de extends Q{constructor(e,n,i){super(i,n);c(this,"_gateways",[]);c(this,"template",Zt);this._gateways=e}get gateways(){return this._gateways}getSelectedTheme(){return Kt}selectGateway(e){this.unmount(),this.eventBus.dispatchEvent(new CustomEvent("GatewaySelected",{detail:{selectedGateway:e,container:YCPay.formContainer}}))}render(e){return this.mount(e)}}const Xt={[f.CREDIT_CARD]:{instantiate:(t,e)=>new $t(t,e),check:t=>t.acceptsCreditCards===!0},[f.CASH_PLUS]:{instantiate:(t,e)=>new zt(t,e),check:t=>t.acceptsCashPlus===!0&&t.cashPlusTransactionEnabled===!0},[f.WALLET]:{instantiate:(t,e)=>new qt(t,e),check:t=>t.acceptsYouCanPayWallet===!0&&t.walletTransactionEnabled===!0}},Me=(t,e,n=null)=>{const i=Qt(YCPay.accountConfig,t);if(i.length===0)return null;if(i.length===1){const a=ue(i[0]);if(typeof a=="undefined")throw Error("selected gateway is invalid");return a.instantiate(e,n)}const r=[];return i.forEach(a=>{const s=ue(a);typeof s!="undefined"&&r.push(s.instantiate(e,n))}),new de(r,n,e)},Jt=(t,e,n)=>Me([t],e,n),Qt=(t,e=[])=>{let n=[];for(const i in f){const r=T(f,i),a=ue(r);typeof a!="undefined"&&a.check(t)===!0&&n.push(r)}return e.length>0&&(n=n.filter(i=>e.indexOf(i)!==-1)),n},ue=t=>Xt[t],en=t=>x`
    <div class="loading_box">
      <img src="${p.ASSETS_URL}/icons/common/loader.svg" alt="Loading" class="loader" draggable="false" />
    </div>
  `;var tn=`/*!
 * Copyright (C) - YouCan - All Rights Reserved
 * Unauthorized copying of this file, via any medium is strictly prohibited
 * Proprietary and confidential
 */.loading_box{align-items:center;border:1px solid #e5e7eb;border-radius:8px;display:flex;margin:6px auto;padding:10px 14px;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.loading_box .loader{-webkit-animation:spin 1s linear infinite;animation:spin 1s linear infinite;height:24px;width:24px}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}`;class nn extends ce{constructor(e){super(e);c(this,"template",en)}getSelectedTheme(){return tn}}const rn=t=>{const e=null;if(typeof performance=="undefined")return e;const n=performance.getEntriesByType("resource");if(typeof n=="undefined"||n.length===0)return e;const i=an(n,t);return i===null?e:i.responseEnd-i.startTime},an=(t,e)=>{const n=t.filter(i=>i.name.indexOf(e)!==-1);return n.length===0?null:n[0]},sn=()=>{const t=navigator.connection;return typeof t=="undefined"?null:{downlink:t.rtt,effectiveType:t.effectiveType,rtt:t.rtt}},on=()=>{const t=navigator.deviceMemory;return typeof t=="undefined"?null:t},ln=()=>{const t=navigator.hardwareConcurrency;return typeof t=="undefined"?null:t},cn=t=>{const e=t.map(n=>Promise.resolve(n).then(i=>({status:"fulfilled",value:i}),i=>({status:"rejected",reason:i})));return Promise.all(e)},dn=t=>t.filter(e=>e.status==="rejected"),un=t=>t.filter(e=>e.status==="fulfilled"),hn=async t=>{const e=await cn(t),n=un(e),i=dn(e);return[n,i]},pn=t=>x` <div class="main_container">Service unavailable</div> `;var mn="";class fn extends ce{constructor(e){super(e);c(this,"template",pn)}getSelectedTheme(){return mn}}const gn=(t,e)=>t.reduce(([n,i],r)=>e(r)?[[...n,r],i]:[n,[...i,r]],[[],[]]),E=new ie;try{(function(){var n;const e=class{constructor(r,{isSandbox:a=!1,locale:s=void 0,errorContainer:o,customCSS:l=null}){c(this,"translationService");c(this,"locale");c(this,"eventBus",new EventTarget);c(this,"enabledGateways",[]);c(this,"selectedGateway",null);this.translationService=R.getInstance(s),e.publicKey=r;try{e.isSandbox=a,this.locale=this.translationService.locale,rt(o),e.customCSS=l,E.collect({key:L.INITIATE_INTEGRATION,value:r,extra:{isSandbox:a,locale:s,errorContainer:o,customCSS:l}}),typeof s!="undefined"&&this.translationService.getAvailableLocales().includes(s.toLowerCase())===!1&&E.collect({key:L.UNSUPPORTED_LOCALE,value:s})}catch(d){E.collect({key:L.FATAL_ERROR,value:r,extra:k({},X(d))})}this.onGatewaySelected()}async renderAvailableGateways(r,a=[],s="default"){E.info({event_name:y.RENDER_COMPONENT,event_category:w.GATEWAYS_SELECTOR,key:v.START,value:a.join(" ")}),e.formContainer=r;try{await this.ensureRemoteResourcesAreLoaded(),this.enabledGateways=a;const o=Me(a,{theme:s,isSandbox:e.isSandbox,isWebView:this.isWebview(),locale:this.locale},this.eventBus);if(o===null){M(this.translationService.translate("errors.general.no-available-gateways"));return}return o instanceof de||(this.selectedGateway=o),o.render(r),E.info({event_name:y.RENDER_COMPONENT,event_category:w.GATEWAYS_SELECTOR,key:v.FINISH,value:a.join(" "),extra:{is_gateways_selector:o instanceof de,account_config:e.accountConfig}}),o}catch(o){M(o),E.error(o,{event_name:y.RENDER_COMPONENT,event_category:w.GATEWAYS_SELECTOR,key:v.ERROR,value:a.join(" ")})}}renderCashPlusForm(r,a="default"){this.renderForm(r,f.CASH_PLUS,a)}renderCreditCardForm(r,a="default"){this.renderForm(r,f.CREDIT_CARD,a)}renderWalletForm(r,a="default"){this.renderForm(r,f.WALLET,a)}async renderForm(r,a,s="default",o=!1){E.info({event_name:y.RENDER_COMPONENT,event_category:w.GATEWAY_FORM,key:v.START,value:a}),e.formContainer=r,await this.ensureRemoteResourcesAreLoaded();try{const l=Jt(a,{theme:s,locale:this.locale,isBackButtonVisible:o,isSandbox:e.isSandbox,isWebView:this.isWebview()},this.eventBus);if(l===null){const d="Requested gateway is invalid";M(d),E.error(new Error(d),{event_name:y.RENDER_COMPONENT,event_category:w.GATEWAY_FORM,key:v.ERROR,value:a});return}return l.render(r),this.selectedGateway=l,E.info({event_name:y.RENDER_COMPONENT,event_category:w.GATEWAY_FORM,key:v.FINISH,value:a}),l}catch(l){M(l),E.error(l,{event_name:y.RENDER_COMPONENT,event_category:w.GATEWAY_FORM,key:v.ERROR,value:a})}}reset(r="default"){this.selectedGateway===null||this.selectedGateway.isMounted()===!1||(this.selectedGateway.unmount(),this.renderAvailableGateways(this.selectedGateway.containerSelector,this.enabledGateways,r))}async pay(r){return ye(),new Promise(async(a,s)=>{if(this.selectedGateway!==null&&this.selectedGateway.isMounted()===!0){if(this.selectedGateway.validate()===!1)return s(this.translationService.translate("gateway.credit-card.form.validation.error"));const l={gateway:this.selectedGateway.id,response:{},errorMessage:null};try{l.response=await this.selectedGateway.pay(e.publicKey,r),a(l)}catch(d){l.response=d,l.errorMessage=we(d),M(l),s(l)}}else{const o=this.translationService.translate("errors.general.no-selected-gateway");M(o),s(o)}})}isWebview(){const r="standalone"in window.navigator&&window.navigator.standalone,a=window.navigator.userAgent,s=/safari/.test(a.toLowerCase()),o=/iphone|ipod|ipad/.test(a.toLowerCase());if(this.shouldUseRedirection())return!0;if(o){if(!r&&!s)return!0}else if(a.includes("wv"))return!0;return!1}shouldUseRedirection(){const r=window.navigator.userAgent,a=new RegExp("FB.{0,300};(FBAV)/(\\d+)(?:\\.(\\d+)|)(?:\\.(\\d+)|)").test(r),s=new RegExp("Mozilla.{1,200}Mobile.{1,100}(Instagram).(\\d+)\\.(\\d+)\\.(\\d+)").test(r),o=r.includes("Snapchat"),l=new RegExp("(Twitter for (?:iPhone|iPad)|TwitterAndroid)(?:\\/(\\d+)\\.(\\d+)|)").test(r);return a||s||o||l}onGatewaySelected(){this.eventBus.addEventListener("GatewaySelected",r=>{const a=_(r).detail;return this.renderForm(a.container,a.selectedGateway,"",!0)}),this.eventBus.addEventListener("BackToGatewaySelector",r=>{this.selectedGateway.unmount();const a=_(r).detail;return this.renderAvailableGateways(a.container,this.enabledGateways)})}async ensureRemoteResourcesAreLoaded(){const r=new nn(this.eventBus);r.mount(e.formContainer);try{const[a,s]=await hn([at(e.publicKey,e.isSandbox),this.translationService.initTranslations()]);if(r.unmount(),s.length!==0)return this.handleServerErrors(s);const[o,l]=a;e.accountConfig=o.value}catch(a){throw r.isMounted()&&r.unmount(),a}}handleServerErrors(r){const[a,s]=gn(r,o=>o.reason.status>=500&&o.reason.status<600);if(a.length!==0&&new fn(this.eventBus).mount(e.formContainer),s.length!==0){const o=new Error(we(s[0].reason));throw E.collect({key:L.ACCOUNT_NOT_FOUND,value:X(o)}),s[0].reason.body}}};let t=e;c(t,"isSandbox",!1),c(t,"publicKey",""),c(t,"customCSS",null),c(t,"formContainer"),c(t,"accountConfig",null),typeof window!="undefined"&&(window.YCPay=t),E.collect({key:L.SCRIPT_LOAD_TIME,value:(n=rn(p.INTEGRATION_SCRIPT_URL))!=null?n:-1,extra:{network:sn(),ram:on(),cpu_cores:ln()}})})()}catch(t){E.collect({key:L.FATAL_ERROR,value:X(t)})}const Ve={general:{"no-selected-gateway":"\u0627\u0644\u0631\u062C\u0627\u0621 \u062A\u062D\u062F\u064A\u062F \u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u062F\u0641\u0639 \u0642\u0628\u0644 \u0627\u0644\u0645\u062A\u0627\u0628\u0639\u0629.","no-available-gateways":"\u0644\u0627 \u062A\u0648\u062C\u062F \u0628\u0648\u0627\u0628\u0627\u062A \u0645\u062A\u0627\u062D\u0629 \u0644\u0647\u0630\u0627 \u0627\u0644\u062D\u0633\u0627\u0628 \u060C \u064A\u0631\u062C\u0649 \u062A\u0634\u063A\u064A\u0644 \u0628\u0648\u0627\u0628\u0629 \u0627\u0644\u062F\u0641\u0639 \u0645\u0646 \u0644\u0648\u062D\u0629 \u0627\u0644\u062A\u062D\u0643\u0645 \u0627\u0644\u062E\u0627\u0635\u0629 \u0628\u0643."}},Ue={"credit-card":{name:"\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0625\u0626\u062A\u0645\u0627\u0646",selector:"\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0625\u0626\u062A\u0645\u0627\u0646",form:{placeholder:{"card-holder-name":" \u0627\u0633\u0645 \u0635\u0627\u062D\u0628 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0628\u0646\u0643\u064A\u0629","card-number":"\u0631\u0642\u0645 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 \u0627\u0644\u0628\u0646\u0643\u064A\u0629","card-expiration":"\u0627\u0644\u0634\u0647\u0631/ \u0627\u0644\u0633\u0646\u0629",cvc:"\u0631\u0645\u0632 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0627\u0644\u0628\u0637\u0627\u0642\u0629 CVC"},validation:{error:"\u062E\u0637\u0623 \u0623\u062B\u0646\u0627\u0621 \u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0635\u062D\u0629 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A",no_empty:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u0643\u0648\u0646 \u0627\u0644\u062D\u0642\u0644 \u0641\u0627\u0631\u063A\u064B\u0627",only_characters:"\u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u062D\u062A\u0648\u064A \u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 \u0639\u0644\u0649 \u0623\u062D\u0631\u0641 \u0641\u0642\u0637",max_255:"\u0644\u0627 \u064A\u0645\u0643\u0646 \u0623\u0646 \u064A\u062A\u062C\u0627\u0648\u0632 \u0647\u0630\u0627 \u0627\u0644\u062D\u0642\u0644 255 \u062D\u0631\u0641\u064B\u0627",invalid_date:"\u062A\u0627\u0631\u064A\u062E \u0627\u0646\u062A\u0647\u0627\u0621 \u0635\u0644\u0627\u062D\u064A\u0629 \u063A\u064A\u0631 \u0635\u0627\u0644\u062D",invalid_cvv:"CVV \u063A\u064A\u0631 \u0635\u0627\u0644\u062D"}},"3ds":{processing:"\u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062F\u0641\u0639",do_not_refresh:"\u0627\u0644\u0645\u0631\u062C\u0648 \u0639\u062F\u0645 \u062A\u062D\u062F\u064A\u062B \u0647\u0630\u0647 \u0627\u0644\u0635\u0641\u062D\u0629"}},"cash-plus":{name:"\u0643\u0627\u0634 \u0628\u0644\u0648\u0633",selector:{cash:"\u0643\u0627\u0634",plus:"\u0628\u0644\u0648\u0633"},form:{guide:{"step-1":{description:"\u0627\u0646\u0633\u062E \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0645\u064A\u0632 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0648\u062A\u0648\u062C\u0651\u0647 \u0625\u0644\u0649 \u0623\u0642\u0631\u0628 \u0648\u0643\u0627\u0644\u0629 \u0643\u0627\u0634 \u0628\u0644\u0648\u0633.",label:"\u0627\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0631\u0645\u0632"},"step-2":{description:"\u0642\u0645 \u0628\u062A\u0632\u0648\u064A\u062F\u0647\u0645 \u0628\u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0645\u0645\u064A\u0632 \u0648\u0627\u062F\u0641\u0639 \u0627\u0644\u0645\u0628\u0644\u063A \u0627\u0644\u0645\u062A\u0628\u0642\u064A.",label:"\u062A\u0642\u062F\u064A\u0645 \u0643\u0648\u062F"},"step-3":{description:"\u064A\u062D\u062F\u062F \u0648\u0643\u064A\u0644 \u0643\u0627\u0634 \u0628\u0644\u0648\u0633 \u0627\u0644\u0645\u0639\u0627\u0645\u0644\u0629 \u0627\u0644\u0645\u0627\u0644\u064A\u0629 \u0639\u0644\u0649 \u0623\u0646\u0647\u0627 \u0646\u0627\u062C\u062D\u0629.",label:"\u0627\u0644\u062A\u062D\u0642\u0642 \u0645\u0646 \u0635\u062D\u0629 \u0627\u0644\u062F\u0641\u0639"},"step-4":{description:"\u0633\u064A\u062A\u0645 \u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0631\u0635\u064A\u062F \u0625\u0644\u0649 \u062D\u0633\u0627\u0628\u0643.",label:"\u0625\u0636\u0627\u0641\u0629 \u0627\u0644\u0631\u0635\u064A\u062F"}},"generating-code":"\u062C\u0627\u0631\u064A \u0625\u0646\u0634\u0627\u0621 \u0627\u0644\u0643\u0648\u062F \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 ...","your-code":"\u064A\u0631\u062C\u0649 \u0627\u0644\u0636\u063A\u0637 \u0639\u0644\u0649 \u0632\u0631 \u0627\u0644\u0646\u0633\u062E \u0644\u062D\u0641\u0638 \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u062E\u0627\u0635 \u0628\u0643:","copy-success":"\u062A\u0648\u062C\u0651\u0647 \u0625\u0644\u0649 \u0623\u0642\u0631\u0628 \u0648\u0643\u0627\u0644\u0629 \u0643\u0627\u0634 \u0628\u0644\u0648\u0633 \u0644\u0644\u062F\u0641\u0639."}},wallet:{name:"YouCan Pay Wallet",selector:"YouCan Pay Wallet",form:{"click-on-pay":"\u0627\u0646\u0642\u0631 \u0639\u0644\u0649 \u0632\u0631 \u0627\u0644\u062F\u0641\u0639 \u0644\u0644\u0645\u062A\u0627\u0628\u0639\u0629",progress:"\u062C\u0627\u0631\u064A \u0627\u0644\u062F\u0641\u0639 \u060C \u0644\u0627 \u062A\u0642\u0645 \u0628\u0627\u0644\u062A\u062D\u062F\u064A\u062B.",success:"\u062A\u0645\u062A \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u062F\u0641\u0639 \u0628\u0646\u062C\u0627\u062D."}},selector:{by:"by"}},Be={back:"\u0631\u062C\u0648\u0639",continue:"\u0627\u0633\u062A\u0645\u0631",copy:"\u0646\u0633\u062E",copied:"\u062A\u0645 \u0627\u0644\u0646\u0633\u062E","payment-cancelled":"\u062A\u0645 \u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u062F\u0641\u0639"};var yn={errors:Ve,gateway:Ue,common:Be},wn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",errors:Ve,gateway:Ue,common:Be,default:yn});const ze={general:{"no-selected-gateway":"Veuillez s\xE9lectionner un mode de paiement avant de poursuivre.","no-available-gateways":"Il n'y a pas de passerelles disponibles pour ce compte, veuillez activer une passerelle de paiement depuis votre tableau de bord YouCan Pay."}},Ge={"credit-card":{name:"Carte Bancaire",selector:"Carte Bancaire",form:{placeholder:{"card-holder-name":"Nom du propri\xE9taire","card-number":"Num\xE9ro de la carte","card-expiration":"MM/AA",cvc:"CVC"},validation:{error:"Erreur lors de la validation des donn\xE9es",no_empty:"Le champ ne peut pas \xEAtre vide",only_characters:"Ce champ ne peut contenir que des lettres",max_255:"Ce champ ne peut pas d\xE9passer 255 lettres",invalid_date:"Date d'expiration non valide",invalid_cvv:"CVV invalide"}},"3ds":{processing:"Traitement du paiement",do_not_refresh:"Veuillez vous abstenir de rafra\xEEchir cette page"}},"cash-plus":{name:"CashPlus",selector:{cash:"CASH",plus:"PLUS"},form:{guide:{"step-1":{description:"Copiez votre jeton et rendez-vous dans l'agence CashPlus la plus proche.",label:"Obtenir votre code"},"step-2":{description:"Remettez-leur le jeton et payez le montant du solde.",label:"Fournissez le code"},"step-3":{description:"L'agent CashPlus marque la transaction comme r\xE9ussie.",label:"Le paiement est valid\xE9"},"step-4":{description:"Le solde est ajout\xE9 \xE0 votre compte.",label:"Solde ajout\xE9"}},"generating-code":"G\xE9n\xE9ration de votre code...","your-code":"Veuillez appuyer sur le bouton de copie pour enregistrer votre code:","copy-success":"Rendez-vous dans l'agence CashPlus la plus proche pour payer."}},wallet:{name:"YouCan Pay Wallet",selector:"YouCan Pay Wallet",form:{"click-on-pay":"Cliquez sur le bouton payer pour continuer.",progress:"Paiement en cours, n\u2019actualisez pas la page.",success:"Paiement trait\xE9 avec succ\xE8s."}},selector:{by:"by"}},Ye={back:"Retour",continue:"Continuer",copy:"Copier",copied:"Copi\xE9","payment-cancelled":"Le paiement a \xE9t\xE9 annul\xE9."};var vn={errors:ze,gateway:Ge,common:Ye},_n=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",errors:ze,gateway:Ge,common:Ye,default:vn});const He={general:{"no-selected-gateway":"Please select a payment method before proceeding.","no-available-gateways":"There are no available gateways for this account, please activate a payment gateway from your YouCan Pay dashboard."}},je={"credit-card":{name:"Credit Card",selector:"Debit or Credit Card",form:{placeholder:{"card-holder-name":"Card Holder Name","card-number":"Card Number","card-expiration":"MM/YY",cvc:"CVC","credit-card":"Credit Card"},validation:{error:"Error while validating data",no_empty:"Field can't be empty",only_characters:"This field can only have letters",max_255:"This field can't exceed 255 letters",invalid_date:"Invalid expiration date",invalid_cvv:"Invalid CVV"}},"3ds":{processing:"Processing payment",do_not_refresh:"Please do not refresh this page"}},"cash-plus":{name:"CashPlus",selector:{cash:"CASH",plus:"PLUS"},form:{guide:{"step-1":{description:"Copy your code and go to the nearest CashPlus agency.",label:"Get code"},"step-2":{description:"Provide them with the code and pay the balance amount.",label:"Provide code"},"step-3":{description:"CashPlus agent marks the transaction as successful.",label:"Payment is validated"},"step-4":{description:"Balance gets added to your account.",label:"Balance added"}},"generating-code":"Generating your code...","your-code":"Please press the copy button to save your code: ","copy-success":"Head over to the nearest CashPlus agency to pay"}},wallet:{name:"YouCan Pay Wallet",selector:"YouCan Pay Wallet",form:{"click-on-pay":"Click on pay button to proceed",progress:"Payment in progress, do not refresh.",success:"Payment processed successfully."}},selector:{by:"by"}},We={back:"Back",continue:"Continue",copy:"Copy",copied:"Copied","payment-cancelled":"The payment has been cancelled."};var xn={errors:He,gateway:je,common:We},bn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",errors:He,gateway:je,common:We,default:xn}),Sn="",Cn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Sn})});
